<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title></title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <article class="markdown-body"><h1 class="atx" id="construccion-del-frontend-de-administracion-adminproyectos">Construcci贸n del Frontend de Administraci贸n: AdminProyectos.</h1>
<p>En est谩 gu铆a pr谩ctica vamos a construir una aplicaci贸n web en Blazor Web Assembly para consumir la API construida previamente. El primer paso es crear nuevo proyecto en Visual Studio.</p>
<img width="261" alt="" src="images/2024-09-19-19-37-49-image.png" title="">

<p>A continuaci贸n en la lista de plantillas disponibles, vamos a hacer una b煤squeda con el texto siguiente: blazor</p>
<p><img alt="" src="images/2024-09-19-19-40-12-image.png"></p>
<p>Entre las opciones disponibles vamos a seleccionar Aplicaci贸n Blazor para WebAssembly, luego damos clic en el bot贸n: Siguiente, en la siguiente ventana le daremos nombre a nuestro proyecto.</p>
<img width="584" alt="" title="" src="images/2024-09-19-19-43-09-image.png">

<p>Despu茅s de colocar el nombre, damos clic en el bot贸n: Siguiente y el la siguiente ventana vamos a configurar la opciones de inicializaci贸n del proyecto.</p>
<p><img alt="" src="images/2024-09-19-19-46-58-image.png"></p>
<p>Y damos clic en el bot贸n Crear, para finalizar la creaci贸n del proyecto. </p>
<p><img alt="" src="images/2024-09-19-19-49-32-image.png"></p>
<p>Cuando el proyecto ya est茅 creado vamos a proceder a instalar y configurar el framework de dise帽o: MudBlazor, para ello damos clic derecho sobre la carpeta <strong>Dependencias</strong> y del mun煤 emergente seleccionamos: <strong>Administrar paquetes NuGet</strong></p>
<p><img alt="" src="images/2024-09-19-19-53-15-image.png"></p>
<p>Cuando se abra el administrador vamos a seleccionar la opci贸n <strong>Examinar</strong>, en la caja de b煤squeda escribimos: <strong>mudblazor</strong>, seleccionamos el primer resultado y damos clic en <strong>Instalar</strong>.</p>
<p><img alt="" src="images/2024-09-19-19-56-06-image.png"></p>
<p>Cuando el paquete termine de instalarse, cerramos el administrador de paquetes y nos dirigimos al <strong>Explorador de soluciones</strong>, abrimos el archivo <strong>Imports.razor</strong>, y en 茅l agregamos la siguiente l铆nea.</p>
<img width="282" alt="" src="images/2024-09-19-20-04-54-image.png" title="">

<p><img alt="" src="images/2024-09-19-20-02-56-image.png"></p>
<p>De esa forma importamos de manera global el namespace del framework de dise帽o. A continuaci贸n abriremos el archivo <strong>index.html</strong> que se encuentra en la carpeta <strong>wwwroot</strong></p>
<img width="284" alt="" src="images/2024-09-19-20-06-40-image.png" title="">

<p>En dicho archivo haremos tres acciones:</p>
<ol>
<li><p>Eliminar la referencia a bootstrap</p>
</li>
<li><p>Agregar las referencias de estilos de Mudblazor</p>
</li>
<li><p>Agregar la referencia a los scripts de Mudblazor</p>
</li>
</ol>
<img width="586" alt="" title="" src="images/2024-09-19-20-10-40-image.png">

<p><img alt="" src="images/2024-09-19-20-12-08-image.png"></p>
<img width="588" alt="" title="" src="images/2024-09-19-20-13-21-image.png">

<pre><code class="fenced-code-block language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Admin Proyectos<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>base</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>css/app.css<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>icon<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image/png<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>favicon.png<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>FrontendAdminProyectosBlazor.styles.css<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>manifest.webmanifest<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>manifest<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>apple-touch-icon<span class="token punctuation">"</span></span> <span class="token attr-name">sizes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>512x512<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>icon-512.png<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>apple-touch-icon<span class="token punctuation">"</span></span> <span class="token attr-name">sizes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>192x192<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>icon-192.png<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&amp;display=swap<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_content/MudBlazor/MudBlazor.min.css<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loading-progress<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>circle</span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>40%<span class="token punctuation">"</span></span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>50%<span class="token punctuation">"</span></span> <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>50%<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>circle</span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>40%<span class="token punctuation">"</span></span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>50%<span class="token punctuation">"</span></span> <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>50%<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loading-progress-text<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>blazor-error-ui<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        An unhandled error has occurred.
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>reload<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Reload<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dismiss<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_framework/blazor.webassembly.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">navigator<span class="token punctuation">.</span>serviceWorker<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'service-worker.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_content/MudBlazor/MudBlazor.min.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre>
<p>Luego de haber realizado estos cambios, cerramos el archivo y nos dirigimos al <strong>Explorador de soluciones</strong> y abrimos el archivo <strong>Program.cs</strong>, en dicho archivo agregamos las siguientes l铆neas.</p>
<img width="299" alt="" src="images/2024-09-19-20-19-55-image.png" title="">

<p><img alt="" src="images/2024-09-19-20-17-26-image.png"></p>
<p>Luego de realizar estos cambios ya podemos cerrar el archivo, ahora nos dirigimos al archivo <strong>MainLayout</strong> dentro de la carpeta <strong>Layout</strong></p>
<img width="300" alt="" src="images/2024-09-19-20-22-19-image.png" title="">

<p>En este archivo agregaremos las siguientes l铆neas</p>
<p><img alt="" src="images/2024-09-19-20-24-38-image.png"></p>
<p>Con estos cambios hemos finalizado de configurar el framework de dise帽o Mudblazor en nuestro proyecto. Ahora procederemos a aplicar una plantilla de mudblazor para renderizar el layout de nuestra aplicaci贸n.</p>
<p><img alt="" src="images/2024-09-19-20-27-02-image.png"></p>
<p>Para conseguir este estilo en nuestra p谩gina de Layout debemos modificar el c贸digo del archivo MainLayout.razor para que se corresponda con el c贸digo que se presenta a continuaci贸n.</p>
<pre><code class="fenced-code-block language-cshtml"><span class="token directive"><span class="token keyword">@inherits</span> <span class="token csharp language-csharp">LayoutComponentBase</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudThemeProvider</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudPopoverProvider</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudDialogProvider</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudSnackbarProvider</span> <span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudLayout</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudAppBar</span> <span class="token attr-name">Elevation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudIconButton</span> <span class="token attr-name">Icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@Icons.Material.Filled.Menu<span class="token punctuation">"</span></span> <span class="token attr-name">Color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Color.Inherit<span class="token punctuation">"</span></span> <span class="token attr-name">Edge</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Edge.Start<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">OnClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript">@<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">DrawerToggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudText</span> <span class="token attr-name">Typo</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Typo.h5<span class="token punctuation">"</span></span> <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ml-3<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Application<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudText</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudSpacer</span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudIconButton</span> <span class="token attr-name">Icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@Icons.Material.Filled.MoreVert<span class="token punctuation">"</span></span> <span class="token attr-name">Color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Color.Inherit<span class="token punctuation">"</span></span> <span class="token attr-name">Edge</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Edge.End<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudAppBar</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudDrawer</span> <span class="token attr-name">@bind-Open</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_drawerOpen<span class="token punctuation">"</span></span> <span class="token attr-name">ClipMode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>DrawerClipMode.Always<span class="token punctuation">"</span></span> <span class="token attr-name">Elevation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NavMenu</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NavMenu</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudDrawer</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudMainContent</span><span class="token punctuation">&gt;</span></span>
        <span class="token value variable"><span class="token keyword">@</span><span class="token csharp language-csharp">Body</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudMainContent</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudLayout</span><span class="token punctuation">&gt;</span></span>
<span class="token block"><span class="token keyword">@code</span> <span class="token csharp language-csharp"><span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">bool</span></span> _drawerOpen <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">DrawerToggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        _drawerOpen <span class="token operator">=</span> <span class="token operator">!</span>_drawerOpen<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></code></pre>
<p>Lo siguiente que debemos hacer es modificar nuestro archivo del men煤 de navegaci贸n, para ello vamos al <strong>Explorador de soluciones</strong> y abrimos el archivo <strong>NavMenu.razor</strong> que est谩 en la carpeta <strong>Layout</strong></p>
<img width="298" alt="" title="" src="images/2024-09-19-20-33-12-image.png">

<p>Procedemos a eliminar todo el c贸digo que ya tiene dicho archivo y colocamos el c贸digo que se muestra a continuaci贸n.</p>
<pre><code class="fenced-code-block language-cshtml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudNavMenu</span> <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mud-width-full<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudNavLink</span> <span class="token attr-name">Href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span> <span class="token attr-name">Icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@Icons.Material.Outlined.Home<span class="token punctuation">"</span></span> <span class="token attr-name">IconColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Color.Tertiary<span class="token punctuation">"</span></span> <span class="token attr-name">Size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Size.Large<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        Home
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudNavLink</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudDivider</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudNavLink</span> <span class="token attr-name">Href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/counter<span class="token punctuation">"</span></span> <span class="token attr-name">Icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@Icons.Material.Outlined.Calculate<span class="token punctuation">"</span></span> <span class="token attr-name">IconColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Color.Tertiary<span class="token punctuation">"</span></span> <span class="token attr-name">Size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Size.Large<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        Counter
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudNavLink</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudNavLink</span> <span class="token attr-name">Href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/weather<span class="token punctuation">"</span></span> <span class="token attr-name">Icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@Icons.Material.Outlined.WbSunny<span class="token punctuation">"</span></span> <span class="token attr-name">IconColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Color.Tertiary<span class="token punctuation">"</span></span> <span class="token attr-name">Size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Size.Large<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        Weather
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudNavLink</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudNavMenu</span><span class="token punctuation">&gt;</span></span></code></pre>
<p>Al finalizar todo este proceso ya estamos en capacidad de ejecutar nuestro proyecto para verificar su funcionamiento y dise帽o que tenemos hasta el momento.</p>
<p><img alt="" src="images/2024-09-19-20-41-23-image.png"></p>
<p>Vemos que la aplicaci贸n funciona correctamente y que el estilo del framework de dise帽o se ha aplicado correctamente.</p>
<h2 class="atx" id="agregar-el-mecanismo-de-login-a-la-aplicacion">Agregar el mecanismo de Login a la aplicaci贸n.</h2>
<p>El proceso de inicio de sesi贸n lo vamos a iniciar instalando dos paquetes que son necesarios para Autenticar y Autorizar a los usuarios, tambi茅n necesitamos un paquete para almacenar el token de autenticaci贸n en el almacenamiento del navegador. Damos clic derecho sobre la carpeta <strong>Dependencias</strong> y buscamos la opci贸n <strong>Administrar paquetes NuGet</strong></p>
<img width="417" alt="" src="images/2024-09-20-08-20-33-image.png" title="">

<p>Cuando haya cargado el administrador de paquetes nos dirigimos a la pesta帽a de <em>Examinar</em> y en el cuadro de b煤squeda escribimos: <em>LocalStorage</em>, seleccionamos de los resultados: <strong>Blazored.LocalStorage</strong></p>
<p><img alt="" src="images/2024-09-20-08-26-00-image.png"></p>
<p>Esperamos a que termine la instalaci贸n del paquete, despu茅s que se instale este paquete vamos a escribir en la caja de b煤squeda lo siguiente: <em>Authorization</em>, seleccionamos el paquete <strong>Microsoft.AspNetCore.Components.Authorization</strong> y le damos clic en el bot贸n <em>Instalar</em></p>
<p><img alt="" src="images/2024-09-20-08-31-26-image.png"></p>
<p>Cuando finalice la instalaci贸n del paquete ya podremos cerrar el administrador de paquetes, ahora nos dirigimos a la <strong>ra铆z del proyecto</strong> y damos clic derecho, del men煤 emergente seleccionamos la opci贸n <strong>Agregar</strong> y del submen煤 damos clic en la opci贸n <strong>Nueva Carpeta</strong></p>
<p><img alt="" src="images/2024-09-20-08-05-33-image.png"></p>
<p>Como nombre le colocaremos: <strong>Auth</strong></p>
<img width="289" alt="" src="images/2024-09-20-08-07-40-image.png" title="">

<p>En esta carpeta reci茅n creada vamos a agregar 3 clases que ser谩n las que se encarguen de la validaci贸n y el almacenamiento del token en el cliente, las 3 clases son las siguientes:</p>
<ol>
<li><p>JwtParser.cs</p>
</li>
<li><p>UserAuth.cs</p>
</li>
<li><p>Utilities</p>
</li>
</ol>
<img width="297" alt="" title="" src="images/2024-09-20-08-11-54-image.png">

<p>Vamos a codificar cada una de las clases en el orden en que fueron creadas</p>
<pre><code class="fenced-code-block language-csharp"><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Security<span class="token punctuation">.</span>Claims</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Text<span class="token punctuation">.</span>Json</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token namespace">FrontendAdminProyectosBlazor<span class="token punctuation">.</span>Auth</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JwtParser</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name">IEnumerable<span class="token punctuation">&lt;</span>Claim<span class="token punctuation">&gt;</span></span> <span class="token function">ParseClaimsFromJwt</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> jwt<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token class-name"><span class="token keyword">var</span></span> claims <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span>Claim<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name"><span class="token keyword">var</span></span> payload <span class="token operator">=</span> jwt<span class="token punctuation">.</span><span class="token function">Split</span><span class="token punctuation">(</span><span class="token char">'.'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

            <span class="token class-name"><span class="token keyword">var</span></span> jsonBytes <span class="token operator">=</span> <span class="token function">ParseBase64WithoutPadding</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name"><span class="token keyword">var</span></span> keyValuePairs <span class="token operator">=</span> JsonSerializer<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Deserialize</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>jsonBytes<span class="token punctuation">)</span><span class="token punctuation">;</span>

            claims<span class="token punctuation">.</span><span class="token function">AddRange</span><span class="token punctuation">(</span>keyValuePairs<span class="token punctuation">.</span><span class="token function">Select</span><span class="token punctuation">(</span>kvp <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Claim</span><span class="token punctuation">(</span>kvp<span class="token punctuation">.</span>Key<span class="token punctuation">,</span> kvp<span class="token punctuation">.</span>Value<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">return</span> claims<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token function">ParseBase64WithoutPadding</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> base64<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">switch</span> <span class="token punctuation">(</span>base64<span class="token punctuation">.</span>Length <span class="token operator">%</span> <span class="token number">4</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">case</span> <span class="token number">2</span><span class="token punctuation">:</span> base64 <span class="token operator">+=</span> <span class="token string">"=="</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token keyword">case</span> <span class="token number">3</span><span class="token punctuation">:</span> base64 <span class="token operator">+=</span> <span class="token string">"="</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> Convert<span class="token punctuation">.</span><span class="token function">FromBase64String</span><span class="token punctuation">(</span>base64<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<pre><code class="fenced-code-block language-csharp"><span class="token keyword">using</span> <span class="token namespace">Blazored<span class="token punctuation">.</span>LocalStorage</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">Microsoft<span class="token punctuation">.</span>AspNetCore<span class="token punctuation">.</span>Components<span class="token punctuation">.</span>Authorization</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Security<span class="token punctuation">.</span>Claims</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token namespace">FrontendAdminProyectosBlazor<span class="token punctuation">.</span>Auth</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserAuth</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">ILocalStorageService</span> _localStorageService<span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token function">UserAuth</span><span class="token punctuation">(</span><span class="token class-name">ILocalStorageService</span> localStorageService<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            _localStorageService <span class="token operator">=</span> localStorageService<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">ValidateTokenExpiration</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> token<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token class-name">List<span class="token punctuation">&lt;</span>Claim<span class="token punctuation">&gt;</span></span> claims <span class="token operator">=</span> JwtParser<span class="token punctuation">.</span><span class="token function">ParseClaimsFromJwt</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>claims<span class="token punctuation">?.</span>Count <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">?</span></span> expirationSeconds <span class="token operator">=</span> claims<span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span>_ <span class="token operator">=&gt;</span> _<span class="token punctuation">.</span>Type<span class="token punctuation">.</span><span class="token function">ToLower</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"exp"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Select</span><span class="token punctuation">(</span>_ <span class="token operator">=&gt;</span> _<span class="token punctuation">.</span>Value<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">FirstOrDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">IsNullOrEmpty</span><span class="token punctuation">(</span>expirationSeconds<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token class-name"><span class="token keyword">var</span></span> exprationDate <span class="token operator">=</span> DateTimeOffset<span class="token punctuation">.</span><span class="token function">FromUnixTimeSeconds</span><span class="token punctuation">(</span>Convert<span class="token punctuation">.</span><span class="token function">ToInt64</span><span class="token punctuation">(</span>expirationSeconds<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>exprationDate <span class="token operator">&lt;</span> DateTime<span class="token punctuation">.</span>UtcNow<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> <span class="token function">GetTokenAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token class-name"><span class="token keyword">string</span></span> token <span class="token operator">=</span> <span class="token keyword">await</span> _localStorageService<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetItemAsync</span><span class="token generic class-name"><span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">"token"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">IsNullOrEmpty</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token keyword">string</span><span class="token punctuation">.</span>Empty<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">ValidateTokenExpiration</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">return</span> token<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">await</span> <span class="token function">Logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">Logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">await</span> _localStorageService<span class="token punctuation">.</span><span class="token function">RemoveItemAsync</span><span class="token punctuation">(</span><span class="token string">"token"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">await</span> _localStorageService<span class="token punctuation">.</span><span class="token function">RemoveItemAsync</span><span class="token punctuation">(</span><span class="token string">"userId"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomAuthenticationProvider</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">AuthenticationStateProvider</span></span>
    <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">ILocalStorageService</span> _localStorageService<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token function">CustomAuthenticationProvider</span><span class="token punctuation">(</span><span class="token class-name">ILocalStorageService</span> localStorageService<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            _localStorageService <span class="token operator">=</span> localStorageService<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>AuthenticationState<span class="token punctuation">&gt;</span></span> <span class="token function">GetAuthenticationStateAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>

            <span class="token class-name"><span class="token keyword">string</span></span> token <span class="token operator">=</span> <span class="token keyword">await</span> _localStorageService<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetItemAsync</span><span class="token generic class-name"><span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">"token"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">IsNullOrEmpty</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token class-name"><span class="token keyword">var</span></span> anonymous <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AuthenticationState</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">ClaimsPrincipal</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">ClaimsIdentity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> anonymous<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token class-name"><span class="token keyword">var</span></span> userClaimPrincipal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ClaimsPrincipal</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">ClaimsIdentity</span><span class="token punctuation">(</span>JwtParser<span class="token punctuation">.</span><span class="token function">ParseClaimsFromJwt</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"Authentication"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name"><span class="token keyword">var</span></span> loginUser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AuthenticationState</span><span class="token punctuation">(</span>userClaimPrincipal<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> loginUser<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token function">NotifyAuthenticationStateChanged</span><span class="token punctuation">(</span><span class="token function">GetAuthenticationStateAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<pre><code class="fenced-code-block language-csharp"><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Security<span class="token punctuation">.</span>Cryptography</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Text</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token namespace">FrontendAdminProyectosBlazor<span class="token punctuation">.</span>Auth</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Utilities</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//GenerateMD5</span>
        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">GenerateMD5</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> str<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token class-name"><span class="token keyword">string</span></span> hashed<span class="token punctuation">;</span>
            <span class="token keyword">using</span> <span class="token punctuation">(</span><span class="token class-name">MD5</span> md5 <span class="token operator">=</span> MD5<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                hashed <span class="token operator">=</span> <span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">.</span>Empty<span class="token punctuation">,</span> md5<span class="token punctuation">.</span><span class="token function">ComputeHash</span><span class="token punctuation">(</span>Encoding<span class="token punctuation">.</span>UTF8<span class="token punctuation">.</span><span class="token function">GetBytes</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Select</span><span class="token punctuation">(</span>b <span class="token operator">=&gt;</span> b<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token string">"x2"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> hashed<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>Ahora procedemos a crear una nueva carpeta en la ra铆z del proyecto, 茅sta debe llevar el nombre: <strong>Models</strong> y en ella crearemos la siguiente clase: <strong>Usuario.cs</strong></p>
<img width="298" alt="" title="" src="images/2024-09-20-09-17-44-image.png">

<p>Procedemos a codificar la clase reci茅n creada, tomar en cuenta que en el mismo archivo se han creado 3 clases, tambi茅n tener en cuenta las propiedades necesarias para la interacci贸n con la API Rest.</p>
<pre><code class="fenced-code-block language-csharp"><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>ComponentModel<span class="token punctuation">.</span>DataAnnotations</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token namespace">FrontendAdminProyectosBlazor<span class="token punctuation">.</span>Models</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Usuario</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Required</span><span class="token attribute-arguments"><span class="token punctuation">(</span>ErrorMessage <span class="token operator">=</span> <span class="token string">"El Rol es obligatorio"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> IdRol <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Required</span><span class="token attribute-arguments"><span class="token punctuation">(</span>ErrorMessage <span class="token operator">=</span> <span class="token string">"El Nombre es obligatorio"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Nombre <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Required</span><span class="token attribute-arguments"><span class="token punctuation">(</span>ErrorMessage <span class="token operator">=</span> <span class="token string">"El Apellido es obligatorio"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Apellido <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Required</span><span class="token attribute-arguments"><span class="token punctuation">(</span>ErrorMessage <span class="token operator">=</span> <span class="token string">"El tel茅fono es obligatorio"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Telefono <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Required</span><span class="token attribute-arguments"><span class="token punctuation">(</span>ErrorMessage <span class="token operator">=</span> <span class="token string">"El Login es obligatorio"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Login <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Required</span><span class="token attribute-arguments"><span class="token punctuation">(</span>ErrorMessage <span class="token operator">=</span> <span class="token string">"La contrase帽a es obligatoria"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">StringLength</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">,</span> ErrorMessage <span class="token operator">=</span> <span class="token string">"Password debe estar entre 5 a 32 caracteres"</span><span class="token punctuation">,</span> MinimumLength <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">DataType</span><span class="token attribute-arguments"><span class="token punctuation">(</span>DataType<span class="token punctuation">.</span>Password<span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Clave <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Required</span><span class="token attribute-arguments"><span class="token punctuation">(</span>ErrorMessage <span class="token operator">=</span> <span class="token string">"La confirmaci贸n de la contrase帽a es obligatoria"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">StringLength</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">,</span> ErrorMessage <span class="token operator">=</span> <span class="token string">"La clave debe estar entre 5 a 32 caracteres"</span><span class="token punctuation">,</span> MinimumLength <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">DataType</span><span class="token attribute-arguments"><span class="token punctuation">(</span>DataType<span class="token punctuation">.</span>Password<span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Compare</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">"Clave"</span><span class="token punctuation">,</span> ErrorMessage <span class="token operator">=</span> <span class="token string">"Clave y confirmar clave deben de ser iguales"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Display</span><span class="token attribute-arguments"><span class="token punctuation">(</span>Name <span class="token operator">=</span> <span class="token string">"Confirmar clave"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> ConfirmClave_aux <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserLogin</span>
    <span class="token punctuation">{</span>
        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Required</span><span class="token attribute-arguments"><span class="token punctuation">(</span>ErrorMessage <span class="token operator">=</span> <span class="token string">"El Login es obligatorio"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Login <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Required</span><span class="token attribute-arguments"><span class="token punctuation">(</span>ErrorMessage <span class="token operator">=</span> <span class="token string">"La contrase帽a es obligatoria"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Clave <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginResponse</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Token <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>Una vez realizada la codificaci贸n de la clase que representa los datos con los vamos a interactuar con los endpoints de la API Rest, ahora debemos actualizar la importaci贸n de namespaces en el archivo <strong>Imports.razor</strong></p>
<pre><code class="fenced-code-block language-cshtml"><span class="token directive"><span class="token keyword">@using</span> <span class="token csharp language-csharp">System<span class="token punctuation">.</span>Net<span class="token punctuation">.</span>Http</span></span>
<span class="token directive"><span class="token keyword">@using</span> <span class="token csharp language-csharp">System<span class="token punctuation">.</span>Net<span class="token punctuation">.</span>Http<span class="token punctuation">.</span>Json</span></span>
<span class="token directive"><span class="token keyword">@using</span> <span class="token csharp language-csharp">Microsoft<span class="token punctuation">.</span>AspNetCore<span class="token punctuation">.</span>Components<span class="token punctuation">.</span>Forms</span></span>
<span class="token directive"><span class="token keyword">@using</span> <span class="token csharp language-csharp">Microsoft<span class="token punctuation">.</span>AspNetCore<span class="token punctuation">.</span>Components<span class="token punctuation">.</span>Routing</span></span>
<span class="token directive"><span class="token keyword">@using</span> <span class="token csharp language-csharp">Microsoft<span class="token punctuation">.</span>AspNetCore<span class="token punctuation">.</span>Components<span class="token punctuation">.</span>Web</span></span>
<span class="token directive"><span class="token keyword">@using</span> <span class="token csharp language-csharp">Microsoft<span class="token punctuation">.</span>AspNetCore<span class="token punctuation">.</span>Components<span class="token punctuation">.</span>Web<span class="token punctuation">.</span>Virtualization</span></span>
<span class="token directive"><span class="token keyword">@using</span> <span class="token csharp language-csharp">Microsoft<span class="token punctuation">.</span>AspNetCore<span class="token punctuation">.</span>Components<span class="token punctuation">.</span>WebAssembly<span class="token punctuation">.</span>Http</span></span>
<span class="token directive"><span class="token keyword">@using</span> <span class="token csharp language-csharp">Microsoft<span class="token punctuation">.</span>JSInterop</span></span>
<span class="token directive"><span class="token keyword">@using</span> <span class="token csharp language-csharp">FrontendAdminProyectosBlazor</span></span>
<span class="token directive"><span class="token keyword">@using</span> <span class="token csharp language-csharp">FrontendAdminProyectosBlazor<span class="token punctuation">.</span>Layout</span></span>

<span class="token directive"><span class="token keyword">@using</span> <span class="token csharp language-csharp">MudBlazor</span></span>
<span class="token directive"><span class="token keyword">@using</span> <span class="token csharp language-csharp">Blazored<span class="token punctuation">.</span>LocalStorage</span></span>
<span class="token directive"><span class="token keyword">@using</span> <span class="token csharp language-csharp">Microsoft<span class="token punctuation">.</span>AspNetCore<span class="token punctuation">.</span>Components<span class="token punctuation">.</span>Authorization</span></span>
<span class="token directive"><span class="token keyword">@using</span> <span class="token csharp language-csharp">System<span class="token punctuation">.</span>Text<span class="token punctuation">.</span>Json</span></span>
<span class="token directive"><span class="token keyword">@using</span> <span class="token csharp language-csharp">System<span class="token punctuation">.</span>ComponentModel<span class="token punctuation">.</span>DataAnnotations</span></span>
<span class="token directive"><span class="token keyword">@using</span> <span class="token csharp language-csharp">System<span class="token punctuation">.</span>Net<span class="token punctuation">.</span>Http<span class="token punctuation">.</span>Headers</span></span>
<span class="token directive"><span class="token keyword">@using</span> <span class="token csharp language-csharp">System<span class="token punctuation">.</span>Security<span class="token punctuation">.</span>Claims</span></span>
<span class="token directive"><span class="token keyword">@using</span> <span class="token csharp language-csharp">System<span class="token punctuation">.</span>Text<span class="token punctuation">.</span>RegularExpressions</span></span>
<span class="token directive"><span class="token keyword">@using</span> <span class="token csharp language-csharp">FrontendAdminProyectosBlazor<span class="token punctuation">.</span>Auth</span></span>
<span class="token directive"><span class="token keyword">@using</span> <span class="token csharp language-csharp">FrontendAdminProyectosBlazor<span class="token punctuation">.</span>Models</span></span></code></pre>
<p>El siguiente paso es dirigirnos a la carpeta <em>Layout</em> y dentro crearemos un nuevo componente de blazor al que le daremos el nombre <strong>LoginLayout.razor</strong></p>
<img width="314" alt="" title="" src="images/2024-09-20-09-03-41-image.png">

<p>Procedemos a codificar el componente que acabamos de crear</p>
<pre><code class="fenced-code-block language-cshtml"><span class="token directive"><span class="token keyword">@inherits</span> <span class="token csharp language-csharp">LayoutComponentBase</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">.h</span> <span class="token punctuation">{</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudThemeProvider</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudDialogProvider</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudSnackbarProvider</span> <span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudLayout</span> <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>d-flex<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudMainContent</span> <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pa-0 d-flex flex-column align-center justify-center<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token value variable"><span class="token keyword">@</span><span class="token csharp language-csharp">Body</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudMainContent</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudLayout</span><span class="token punctuation">&gt;</span></span></code></pre>
<p>Este archivo representa la plantilla a aplicar para nuestra p谩gina de inicio de sesi贸n, el siguiente paso es dirigirnos a la carpeta <em>Pages</em> en ella haremos dos cambios, primero borraremos las p谩ginas: Counter y Weather, segundo, crearemos un nuevo componente de razor al que llamaremos: <strong>Index.razor</strong></p>
<img width="296" alt="" title="" src="images/2024-09-20-09-10-56-image.png">

<p>Procedemos a codificar el componente que acabamos de crear</p>
<pre><code class="fenced-code-block language-cshtml"><span class="token directive"><span class="token keyword">@layout</span> <span class="token csharp language-csharp">LoginLayout</span></span>
<span class="token directive"><span class="token keyword">@page</span> <span class="token csharp language-csharp"><span class="token string">"/"</span></span></span>

<span class="token directive"><span class="token keyword">@inject</span> <span class="token csharp language-csharp">NavigationManager NavigationManager</span></span>
<span class="token directive"><span class="token keyword">@inject</span> <span class="token csharp language-csharp">ILocalStorageService _localStorageService</span></span>
<span class="token directive"><span class="token keyword">@inject</span> <span class="token csharp language-csharp">HttpClient Http</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudImage</span> <span class="token attr-name">ObjectFit</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ObjectFit.Contain<span class="token punctuation">"</span></span> <span class="token attr-name">Src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/images/fullcolor.png<span class="token punctuation">"</span></span> <span class="token attr-name">Width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>200<span class="token punctuation">"</span></span> <span class="token attr-name">Height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>150<span class="token punctuation">"</span></span> <span class="token attr-name">Alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Swedish Farm House<span class="token punctuation">"</span></span> <span class="token attr-name">Elevation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rounded-lg ma-4<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudPaper</span> <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pa-2 ma-4<span class="token punctuation">"</span></span> <span class="token attr-name">Elevation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>EditForm</span> <span class="token attr-name">Model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@user<span class="token punctuation">"</span></span> <span class="token attr-name">OnValidSubmit</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>OnValidSubmit<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DataAnnotationsValidator</span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudGrid</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudItem</span> <span class="token attr-name">xs</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>12<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTextField</span> <span class="token attr-name">Label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Usuario<span class="token punctuation">"</span></span> <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mt-3<span class="token punctuation">"</span></span>
                              <span class="token attr-name">@bind-Value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user.Login<span class="token punctuation">"</span></span> <span class="token attr-name">For</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@(() =&gt; user.Login)<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudItem</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudItem</span> <span class="token attr-name">xs</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>12<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTextField</span> <span class="token attr-name">Label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Clave<span class="token punctuation">"</span></span> <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mt-3<span class="token punctuation">"</span></span>
                              <span class="token attr-name">@bind-Value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user.Clave<span class="token punctuation">"</span></span> <span class="token attr-name">For</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@(() =&gt; user.Clave)<span class="token punctuation">"</span></span> <span class="token attr-name">InputType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>InputType.Password<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudItem</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudItem</span> <span class="token attr-name">xs</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>12<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudButton</span> <span class="token attr-name">ButtonType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ButtonType.Submit<span class="token punctuation">"</span></span> <span class="token attr-name">Variant</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Variant.Filled<span class="token punctuation">"</span></span> <span class="token attr-name">Color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Color.Primary<span class="token punctuation">"</span></span> <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ml-auto<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Login<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudButton</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudItem</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudGrid</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>EditForm</span><span class="token punctuation">&gt;</span></span>
    <span class="token block"><span class="token keyword">@if</span> <span class="token csharp language-csharp"><span class="token punctuation">(</span>showLeaveAlert<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudAlert</span> <span class="token attr-name">Severity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Severity.Error<span class="token punctuation">"</span></span> <span class="token attr-name">ContentAlignment</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HorizontalAlignment.Center<span class="token punctuation">"</span></span> <span class="token attr-name">ShowCloseIcon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">CloseIconClicked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(() =&gt; CloseMe(true))<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>No se reconocen las credenciales ingresadas.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudAlert</span><span class="token punctuation">&gt;</span></span></span>
    <span class="token punctuation">}</span></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudPaper</span><span class="token punctuation">&gt;</span></span>

<span class="token block"><span class="token keyword">@code</span> <span class="token csharp language-csharp"><span class="token punctuation">{</span>

    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">CascadingParameter</span></span><span class="token punctuation">]</span>
    <span class="token keyword">private</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>AuthenticationState<span class="token punctuation">&gt;</span></span> authenticationStateTask <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">bool</span></span> showLeaveAlert <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

    <span class="token class-name">UserLogin</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">UserLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">bool</span></span> success<span class="token punctuation">;</span>


    <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">OnInitializedAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">var</span></span> authState <span class="token operator">=</span> <span class="token keyword">await</span> authenticationStateTask<span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword">var</span></span> user <span class="token operator">=</span> authState<span class="token punctuation">.</span>User<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>user<span class="token punctuation">.</span>Identity <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>user<span class="token punctuation">.</span>Identity<span class="token punctuation">.</span>IsAuthenticated<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                NavigationManager<span class="token punctuation">.</span><span class="token function">NavigateTo</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"/home"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">OnValidSubmit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//var httpResponse = await Http.PostAsJsonAsync&lt;UserLogin&gt;("usuarios/Login", user); // .NET</span>
        <span class="token class-name"><span class="token keyword">var</span></span> httpResponse <span class="token operator">=</span> <span class="token keyword">await</span> Http<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">PostAsJsonAsync</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>UserLogin<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">"auth/login"</span><span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Java</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>httpResponse<span class="token punctuation">.</span>StatusCode <span class="token operator">==</span> System<span class="token punctuation">.</span>Net<span class="token punctuation">.</span>HttpStatusCode<span class="token punctuation">.</span>OK<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            showLeaveAlert <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{</span>
            <span class="token class-name"><span class="token keyword">var</span></span> contentResponse <span class="token operator">=</span> <span class="token keyword">await</span> httpResponse<span class="token punctuation">.</span>Content<span class="token punctuation">.</span><span class="token function">ReadAsStringAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//var token = contentResponse; // .NET</span>
            <span class="token class-name"><span class="token keyword">var</span></span> options <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">JsonSerializerOptions</span> <span class="token punctuation">{</span> PropertyNameCaseInsensitive <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// java</span>
            <span class="token class-name"><span class="token keyword">var</span></span> token <span class="token operator">=</span> JsonSerializer<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Deserialize</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>LoginResponse<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>contentResponse<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// java</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>token <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">await</span> _localStorageService<span class="token punctuation">.</span><span class="token function">SetItemAsync</span><span class="token punctuation">(</span><span class="token string">"token"</span><span class="token punctuation">,</span> token<span class="token punctuation">.</span>Token<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Java</span>
                                                                               <span class="token comment">//await _localStorageService.SetItemAsync("token", token); // .NET</span>
                NavigationManager<span class="token punctuation">.</span><span class="token function">NavigateTo</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"home"</span></span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">forceLoad</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
            <span class="token punctuation">{</span>
                showLeaveAlert <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">CloseMe</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">bool</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        showLeaveAlert <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></code></pre>
<p>Casi estamos listos para realizar la primera prueba de funcionamiento, pero antes de eso vamos a realizar un par de cambios, primero modificaremos la p谩gina <strong>Home.razor</strong> , tambi茅n modificaremos el archivo <strong>App.razor</strong> y el archivo <strong>Program.cs</strong></p>
<img width="588" alt="" title="" src="images/2024-09-20-09-30-09-image.png">

<p><img alt="" src="images/2024-09-20-09-31-54-image.png"></p>
<p><img alt="" src="images/2024-09-20-09-36-45-image.png"></p>
<p>Y finalmente tenemos que actualizar el c贸digo del archivo MainLayout.razor, para incluir la validaci贸n de la sesi贸n de usuario y la opci贸n de cierre de sesi贸n.</p>
<pre><code class="fenced-code-block language-cshtml"><span class="token directive"><span class="token keyword">@inherits</span> <span class="token csharp language-csharp">LayoutComponentBase</span></span>
<span class="token directive"><span class="token keyword">@inject</span> <span class="token csharp language-csharp">ILocalStorageService _localStorageService</span></span>
<span class="token directive"><span class="token keyword">@inject</span> <span class="token csharp language-csharp">NavigationManager NavigationManager</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudThemeProvider</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudPopoverProvider</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudDialogProvider</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudSnackbarProvider</span> <span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudLayout</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudAppBar</span> <span class="token attr-name">Elevation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudIconButton</span> <span class="token attr-name">Icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@Icons.Material.Filled.Menu<span class="token punctuation">"</span></span> <span class="token attr-name">Color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Color.Inherit<span class="token punctuation">"</span></span> <span class="token attr-name">Edge</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Edge.Start<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">OnClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript">@<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">DrawerToggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudText</span> <span class="token attr-name">Typo</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Typo.h5<span class="token punctuation">"</span></span> <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ml-3<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Application<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudText</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudSpacer</span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudIconButton</span> <span class="token attr-name">Icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@Icons.Material.Filled.Logout<span class="token punctuation">"</span></span> <span class="token attr-name">Color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Color.Inherit<span class="token punctuation">"</span></span> <span class="token attr-name">Edge</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Edge.End<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">OnClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript">@<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudAppBar</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudDrawer</span> <span class="token attr-name">@bind-Open</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_drawerOpen<span class="token punctuation">"</span></span> <span class="token attr-name">ClipMode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>DrawerClipMode.Always<span class="token punctuation">"</span></span> <span class="token attr-name">Elevation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NavMenu</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NavMenu</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudDrawer</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudMainContent</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudContainer</span> <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pa-4<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token value variable"><span class="token keyword">@</span><span class="token csharp language-csharp">Body</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudContainer</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudMainContent</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudLayout</span><span class="token punctuation">&gt;</span></span>
<span class="token block"><span class="token keyword">@code</span> <span class="token csharp language-csharp"><span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">CascadingParameter</span></span><span class="token punctuation">]</span>
    <span class="token keyword">private</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>AuthenticationState<span class="token punctuation">&gt;</span></span> authenticationStateTask <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token class-name"><span class="token keyword">bool</span></span> _drawerOpen <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">DrawerToggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        _drawerOpen <span class="token operator">=</span> <span class="token operator">!</span>_drawerOpen<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">await</span> _localStorageService<span class="token punctuation">.</span><span class="token function">RemoveItemAsync</span><span class="token punctuation">(</span><span class="token string">"userId"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">await</span> _localStorageService<span class="token punctuation">.</span><span class="token function">RemoveItemAsync</span><span class="token punctuation">(</span><span class="token string">"token"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        NavigationManager<span class="token punctuation">.</span><span class="token function">NavigateTo</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"/"</span></span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">forceLoad</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">OnInitializedAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">var</span></span> authState <span class="token operator">=</span> <span class="token keyword">await</span> authenticationStateTask<span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword">var</span></span> user <span class="token operator">=</span> authState<span class="token punctuation">.</span>User<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>user<span class="token punctuation">.</span>Identity <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>user<span class="token punctuation">.</span>Identity<span class="token punctuation">.</span>IsAuthenticated<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token class-name"><span class="token keyword">var</span></span> id <span class="token operator">=</span> user<span class="token punctuation">.</span>Claims<span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span>c <span class="token operator">=&gt;</span> c<span class="token punctuation">.</span>Type <span class="token operator">==</span> <span class="token string">"unique_name"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Select</span><span class="token punctuation">(</span>c <span class="token operator">=&gt;</span> c<span class="token punctuation">.</span>Value<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">FirstOrDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">await</span> _localStorageService<span class="token punctuation">.</span><span class="token function">SetItemAsync</span><span class="token punctuation">(</span><span class="token string">"userId"</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
            <span class="token punctuation">{</span>
                NavigationManager<span class="token punctuation">.</span><span class="token function">NavigateTo</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"/"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></code></pre>
<h2 class="atx" id="prueba-de-funcionamiento-del-proceso-de-login">Prueba de funcionamiento del proceso de Login.</h2>
<p>Antes que nada debemos comprobar que la API Rest est谩 ejecut谩ndose en nuestra PC, luego de esto damos clic en el bot贸n para ejecutar nuestro proyecto de Frontend, esperamos que cargue y verificamos que nos cargue la p谩gina de inicio de sesi贸n.</p>
<p><img alt="" src="images/2024-09-20-10-06-34-image.png"></p>
<p>Al ejecutar vemos que en efecto, lo primero que carga es la p谩gina de inicio de sesi贸n, ahora ingresamos nuestras credenciales de usuario registrado y damos clic en el bot贸n <strong>Login</strong>.</p>
<img width="396" alt="" title="" src="images/2024-09-20-10-07-50-image.png">

<p>Comprobamos que nos cargue la p谩gina principal (Home) y esta podemos observar que nos aparece el bot贸n de cierre de sesi贸n.</p>
<p><img alt="" src="images/2024-09-20-10-09-55-image.png"></p>
<p>Probamos tambi茅n que funciona la opci贸n de cierre de sesi贸n.</p>
<p><img alt="" src="images/2024-09-20-10-10-51-image.png"></p>
<p>Vemos que efectivamente se destruye el token registrado y nos devuelve a la p谩gina de inicio de sesi贸n. Listo con esto hemos finalizado el proceso de Login de nuestra aplicaci贸n, ahora toca construir cada una de las p谩ginas para dar mantenimiento a los datos que maneja nuestra API Rest.</p>
<h2 class="atx" id="proceso-para-mantenimiento-de-categorias">Proceso para mantenimiento de Categor铆as.</h2>
<p>Para comenzar este proceso crearemos una nueva clase dentro de la carpeta <strong>Models</strong>, a esta nueva clase le daremos el nombre <strong>Categoria.cs</strong></p>
<img width="312" alt="" title="" src="images/2024-09-20-13-19-11-image.png">

<p>Esta clase tendr谩 el siguiente c贸digo</p>
<pre><code class="fenced-code-block language-csharp"><span class="token keyword">namespace</span> <span class="token namespace">FrontendAdminProyectosBlazor<span class="token punctuation">.</span>Models</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Categoria</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Nombre <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>A continuaci贸n crearemos una nueva carpeta dentro de la carpeta <strong>Pages</strong>, a esta carpeta le daremos el nombre: <strong>Categoria</strong></p>
<img width="279" alt="" title="" src="images/2024-09-20-13-11-51-image.png">

<p>Dentro de la carpeta reci茅n creada vamos a agregar cuatro componentes de razor de la siguiente manera</p>
<ol>
<li><p>Index.razor</p>
</li>
<li><p>Agregar.razor</p>
</li>
<li><p>Modificar.razor</p>
</li>
<li><p>Eliminar.razor</p>
</li>
</ol>
<img width="296" alt="" title="" src="images/2024-09-20-13-15-07-image.png">

<p>Ahora procedemos a su codificaci贸n respetando el orden en que fueron creados</p>
<pre><code class="fenced-code-block language-cshtml"><span class="token directive"><span class="token keyword">@page</span> <span class="token csharp language-csharp"><span class="token string">"/categoria/index"</span></span></span>
<span class="token directive"><span class="token keyword">@inject</span> <span class="token csharp language-csharp">HttpClient httpClient</span></span>
<span class="token directive"><span class="token keyword">@inject</span> <span class="token csharp language-csharp">NavigationManager navigationManager</span></span>
<span class="token directive"><span class="token keyword">@inject</span> <span class="token csharp language-csharp">ILocalStorageService _localStorageService</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudText</span> <span class="token attr-name">Typo</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Typo.h2<span class="token punctuation">"</span></span> <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ml<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Categor铆as<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudText</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTable</span> <span class="token attr-name">Items</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@categorias<span class="token punctuation">"</span></span> <span class="token attr-name">Dense</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">Hover</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">Bordered</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">Striped</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ToolBarContent</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudFab</span> <span class="token attr-name">Color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Color.Primary<span class="token punctuation">"</span></span> <span class="token attr-name">StartIcon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@Icons.Material.Filled.Add<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">OnClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript">goAdd</span><span class="token punctuation">"</span></span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudSpacer</span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTextField</span> <span class="token attr-name">@bind-Value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>searchText<span class="token punctuation">"</span></span> <span class="token attr-name">Placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Search<span class="token punctuation">"</span></span> <span class="token attr-name">Adornment</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Adornment.Start<span class="token punctuation">"</span></span> <span class="token attr-name">AdornmentIcon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@Icons.Material.Filled.Search<span class="token punctuation">"</span></span> <span class="token attr-name">IconSize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Size.Medium<span class="token punctuation">"</span></span> <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mt-0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudTextField</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ToolBarContent</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HeaderContent</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTh</span><span class="token punctuation">&gt;</span></span>Id<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudTh</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTh</span><span class="token punctuation">&gt;</span></span>Nombre<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudTh</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTh</span><span class="token punctuation">&gt;</span></span>Acciones<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudTh</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>HeaderContent</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RowTemplate</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTd</span> <span class="token attr-name">DataLabel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Id<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token value variable"><span class="token keyword">@</span><span class="token csharp language-csharp">context<span class="token punctuation">.</span>Id</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudTd</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTd</span> <span class="token attr-name">DataLabel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Nombre<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token value variable"><span class="token keyword">@</span><span class="token csharp language-csharp">context<span class="token punctuation">.</span>Nombre</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudTd</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTd</span><span class="token punctuation">&gt;</span></span>
            &lt;MudButton Href="<span class="token value variable"><span class="token keyword">@</span><span class="token csharp language-csharp"><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"/categoria/editar/</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">context<span class="token punctuation">.</span>Id</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span></span></span>" Size="Size.Small" Variant="Variant.Outlined"
                       Color="Color.Tertiary" Class="text-center"&gt;Editar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudButton</span><span class="token punctuation">&gt;</span></span>
            &lt;MudButton Href="<span class="token value variable"><span class="token keyword">@</span><span class="token csharp language-csharp"><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"/categoria/eliminar/</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">context<span class="token punctuation">.</span>Id</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span></span></span>" Size="Size.Small" Variant="Variant.Outlined"
                       Color="Color.Warning" Class="text-center"&gt;Eliminar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudButton</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudTd</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RowTemplate</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PagerContent</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTablePager</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PagerContent</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudTable</span><span class="token punctuation">&gt;</span></span>

<span class="token block"><span class="token keyword">@code</span> <span class="token csharp language-csharp"><span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span>Categoria<span class="token punctuation">&gt;</span></span> categorias <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span>Categoria<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">string</span></span> searchText <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">OnInitializedAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        httpClient<span class="token punctuation">.</span>DefaultRequestHeaders<span class="token punctuation">.</span>Authorization <span class="token operator">=</span>
            <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AuthenticationHeaderValue</span><span class="token punctuation">(</span><span class="token string">"Bearer"</span><span class="token punctuation">,</span> <span class="token keyword">await</span> _localStorageService<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetItemAsync</span><span class="token generic class-name"><span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">"token"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">await</span> <span class="token function">getAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">getAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//var httpResponse = await httpClient.GetStringAsync("categorias"); // .NET</span>
        <span class="token class-name"><span class="token keyword">var</span></span> httpResponse <span class="token operator">=</span> <span class="token keyword">await</span> httpClient<span class="token punctuation">.</span><span class="token function">GetStringAsync</span><span class="token punctuation">(</span><span class="token string">"categorias/lista"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Java</span>
        categorias <span class="token operator">=</span> JsonSerializer<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Deserialize</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>IEnumerable<span class="token punctuation">&lt;</span>Categoria<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>httpResponse<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">JsonSerializerOptions</span> <span class="token punctuation">{</span> PropertyNameCaseInsensitive <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">goAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        navigationManager<span class="token punctuation">.</span><span class="token function">NavigateTo</span><span class="token punctuation">(</span><span class="token string">"categoria/agregar"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></code></pre>
<pre><code class="fenced-code-block language-cshtml"><span class="token directive"><span class="token keyword">@page</span> <span class="token csharp language-csharp"><span class="token string">"/categoria/agregar"</span></span></span>

<span class="token directive"><span class="token keyword">@inject</span> <span class="token csharp language-csharp">HttpClient httpClient</span></span>
<span class="token directive"><span class="token keyword">@inject</span> <span class="token csharp language-csharp">NavigationManager navigationManager</span></span>
<span class="token directive"><span class="token keyword">@inject</span> <span class="token csharp language-csharp">ILocalStorageService _localStorageService</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudText</span> <span class="token attr-name">Typo</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Typo.h2<span class="token punctuation">"</span></span> <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ml<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Nueva Categor铆a<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudText</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudGrid</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudItem</span> <span class="token attr-name">xs</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>12<span class="token punctuation">"</span></span> <span class="token attr-name">sm</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>7<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudPaper</span> <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pa-4<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>EditForm</span> <span class="token attr-name">Model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>categoria<span class="token punctuation">"</span></span> <span class="token attr-name">OnValidSubmit</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>OnValidSubmit<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DataAnnotationsValidator</span> <span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudCard</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudCardContent</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTextField</span> <span class="token attr-name">Label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Nombre<span class="token punctuation">"</span></span> <span class="token attr-name">@bind-Value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>categoria.Nombre<span class="token punctuation">"</span></span> <span class="token attr-name">For</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@(() =&gt; categoria.Nombre)<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudDivider</span> <span class="token punctuation">/&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudCardContent</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudCardActions</span><span class="token punctuation">&gt;</span></span>
                        &lt;MudButton Href="<span class="token value variable"><span class="token keyword">@</span><span class="token csharp language-csharp"><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"/categoria/index"</span></span><span class="token punctuation">)</span></span></span>" Variant="Variant.Filled" Color="Color.Info"
                                   Class="text-center"&gt;Regresar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudButton</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudButton</span> <span class="token attr-name">ButtonType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ButtonType.Submit<span class="token punctuation">"</span></span> <span class="token attr-name">Variant</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Variant.Filled<span class="token punctuation">"</span></span> <span class="token attr-name">Color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Color.Primary<span class="token punctuation">"</span></span> <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ml-auto<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Guardar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudButton</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudCardActions</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudCard</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>EditForm</span><span class="token punctuation">&gt;</span></span>
            <span class="token block"><span class="token keyword">@if</span> <span class="token csharp language-csharp"><span class="token punctuation">(</span>showLeaveAlert<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudAlert</span> <span class="token attr-name">Severity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Severity.Error<span class="token punctuation">"</span></span> <span class="token attr-name">ContentAlignment</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HorizontalAlignment.Center<span class="token punctuation">"</span></span> <span class="token attr-name">ShowCloseIcon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">CloseIconClicked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(() =&gt; CloseMe(true))<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>No se pudo guardar.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudAlert</span><span class="token punctuation">&gt;</span></span></span>
            <span class="token punctuation">}</span></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudPaper</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudItem</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudGrid</span><span class="token punctuation">&gt;</span></span>

<span class="token block"><span class="token keyword">@code</span> <span class="token csharp language-csharp"><span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">bool</span></span> success<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">bool</span></span> showLeaveAlert <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token class-name">Categoria</span> categoria <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Categoria</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">OnInitializedAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        httpClient<span class="token punctuation">.</span>DefaultRequestHeaders<span class="token punctuation">.</span>Authorization <span class="token operator">=</span>
            <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AuthenticationHeaderValue</span><span class="token punctuation">(</span><span class="token string">"Bearer"</span><span class="token punctuation">,</span> <span class="token keyword">await</span> _localStorageService<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetItemAsync</span><span class="token generic class-name"><span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">"token"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">OnValidSubmit</span><span class="token punctuation">(</span><span class="token class-name">EditContext</span> context<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">await</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        success <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token function">StateHasChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>

        <span class="token class-name"><span class="token keyword">var</span></span> httpResponse <span class="token operator">=</span> <span class="token keyword">await</span> httpClient<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">PostAsJsonAsync</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Categoria<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">"categorias"</span><span class="token punctuation">,</span> categoria<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>httpResponse<span class="token punctuation">.</span>StatusCode <span class="token operator">==</span> System<span class="token punctuation">.</span>Net<span class="token punctuation">.</span>HttpStatusCode<span class="token punctuation">.</span>OK<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            showLeaveAlert <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{</span>
            navigationManager<span class="token punctuation">.</span><span class="token function">NavigateTo</span><span class="token punctuation">(</span><span class="token string">"categoria/index"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">CloseMe</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">bool</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        showLeaveAlert <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span>
</code></pre>
<pre><code class="fenced-code-block language-cshtml"><span class="token directive"><span class="token keyword">@page</span> <span class="token csharp language-csharp"><span class="token string">"/categoria/editar/{id:int}"</span></span></span>
<span class="token directive"><span class="token keyword">@inject</span> <span class="token csharp language-csharp">HttpClient httpClient</span></span>
<span class="token directive"><span class="token keyword">@inject</span> <span class="token csharp language-csharp">NavigationManager navigationManager</span></span>
<span class="token directive"><span class="token keyword">@inject</span> <span class="token csharp language-csharp">ILocalStorageService _localStorageService</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudText</span> <span class="token attr-name">Typo</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Typo.h2<span class="token punctuation">"</span></span> <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ml<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Editar Categor铆a<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudText</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudGrid</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudItem</span> <span class="token attr-name">xs</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>12<span class="token punctuation">"</span></span> <span class="token attr-name">sm</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>7<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudPaper</span> <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pa-4<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>EditForm</span> <span class="token attr-name">Model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>categoria<span class="token punctuation">"</span></span> <span class="token attr-name">OnValidSubmit</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>OnValidSubmit<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DataAnnotationsValidator</span> <span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudCard</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudCardContent</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTextField</span> <span class="token attr-name">Label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Nombre<span class="token punctuation">"</span></span> <span class="token attr-name">@bind-Value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>categoria.Nombre<span class="token punctuation">"</span></span> <span class="token attr-name">For</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@(() =&gt; categoria.Nombre)<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudDivider</span> <span class="token punctuation">/&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudCardContent</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudCardActions</span><span class="token punctuation">&gt;</span></span>
                        &lt;MudButton Href="<span class="token value variable"><span class="token keyword">@</span><span class="token csharp language-csharp"><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"/categoria/index"</span></span><span class="token punctuation">)</span></span></span>" Variant="Variant.Filled" Color="Color.Info"
                                   Class="text-center"&gt;Regresar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudButton</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudButton</span> <span class="token attr-name">ButtonType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ButtonType.Submit<span class="token punctuation">"</span></span> <span class="token attr-name">Variant</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Variant.Filled<span class="token punctuation">"</span></span> <span class="token attr-name">Color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Color.Primary<span class="token punctuation">"</span></span> <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ml-auto<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Guardar cambios<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudButton</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudCardActions</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudCard</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>EditForm</span><span class="token punctuation">&gt;</span></span>
            <span class="token block"><span class="token keyword">@if</span> <span class="token csharp language-csharp"><span class="token punctuation">(</span>showLeaveAlert<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudAlert</span> <span class="token attr-name">Severity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Severity.Error<span class="token punctuation">"</span></span> <span class="token attr-name">ContentAlignment</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HorizontalAlignment.Center<span class="token punctuation">"</span></span> <span class="token attr-name">ShowCloseIcon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">CloseIconClicked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(() =&gt; CloseMe(true))<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Ocurri贸 un problema.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudAlert</span><span class="token punctuation">&gt;</span></span></span>
            <span class="token punctuation">}</span></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudPaper</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudItem</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudGrid</span><span class="token punctuation">&gt;</span></span>

<span class="token block"><span class="token keyword">@code</span> <span class="token csharp language-csharp"><span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Parameter</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">bool</span></span> showLeaveAlert <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token class-name">Categoria</span> categoria <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Categoria</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">OnInitializedAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        httpClient<span class="token punctuation">.</span>DefaultRequestHeaders<span class="token punctuation">.</span>Authorization <span class="token operator">=</span>
            <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AuthenticationHeaderValue</span><span class="token punctuation">(</span><span class="token string">"Bearer"</span><span class="token punctuation">,</span> <span class="token keyword">await</span> _localStorageService<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetItemAsync</span><span class="token generic class-name"><span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">"token"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name"><span class="token keyword">var</span></span> resp <span class="token operator">=</span> <span class="token keyword">await</span> httpClient<span class="token punctuation">.</span><span class="token function">GetStringAsync</span><span class="token punctuation">(</span><span class="token string">"categorias/"</span> <span class="token operator">+</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        categoria <span class="token operator">=</span> JsonSerializer<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Deserialize</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Categoria<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>resp<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">JsonSerializerOptions</span> <span class="token punctuation">{</span> PropertyNameCaseInsensitive <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">OnValidSubmit</span><span class="token punctuation">(</span><span class="token class-name">EditContext</span> context<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">await</span> <span class="token function">saveChanges</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">saveChanges</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>

        <span class="token class-name"><span class="token keyword">var</span></span> httpResponse <span class="token operator">=</span> <span class="token keyword">await</span> httpClient<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">PutAsJsonAsync</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Categoria<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">"categorias/"</span> <span class="token operator">+</span> categoria<span class="token punctuation">.</span>Id<span class="token punctuation">,</span> categoria<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>httpResponse<span class="token punctuation">.</span>StatusCode <span class="token operator">==</span> System<span class="token punctuation">.</span>Net<span class="token punctuation">.</span>HttpStatusCode<span class="token punctuation">.</span>OK<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            showLeaveAlert <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{</span>
            navigationManager<span class="token punctuation">.</span><span class="token function">NavigateTo</span><span class="token punctuation">(</span><span class="token string">"categoria/index"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">CloseMe</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">bool</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        showLeaveAlert <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></code></pre>
<pre><code class="fenced-code-block language-cshtml"><span class="token directive"><span class="token keyword">@page</span> <span class="token csharp language-csharp"><span class="token string">"/categoria/eliminar/{id:int}"</span></span></span>

<span class="token directive"><span class="token keyword">@inject</span> <span class="token csharp language-csharp">HttpClient httpClient</span></span>
<span class="token directive"><span class="token keyword">@inject</span> <span class="token csharp language-csharp">NavigationManager navigationManager</span></span>
<span class="token directive"><span class="token keyword">@inject</span> <span class="token csharp language-csharp">ILocalStorageService _localStorageService</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudText</span> <span class="token attr-name">Typo</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Typo.h2<span class="token punctuation">"</span></span> <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ml<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Eliminar Categor铆a<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudText</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudGrid</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudItem</span> <span class="token attr-name">xs</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>12<span class="token punctuation">"</span></span> <span class="token attr-name">sm</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>7<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudPaper</span> <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pa-4<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>EditForm</span> <span class="token attr-name">Model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>categoria<span class="token punctuation">"</span></span> <span class="token attr-name">OnValidSubmit</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>OnValidSubmit<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DataAnnotationsValidator</span> <span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudCard</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudCardContent</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTextField</span> <span class="token attr-name">Label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Nombre<span class="token punctuation">"</span></span> <span class="token attr-name">@bind-Value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>categoria.Nombre<span class="token punctuation">"</span></span> <span class="token attr-name">For</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@(() =&gt; categoria.Nombre)<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudDivider</span> <span class="token punctuation">/&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudCardContent</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudCardActions</span><span class="token punctuation">&gt;</span></span>
                        &lt;MudButton Href="<span class="token value variable"><span class="token keyword">@</span><span class="token csharp language-csharp"><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"/categoria/index"</span></span><span class="token punctuation">)</span></span></span>" Variant="Variant.Filled" Color="Color.Info"
                                   Class="text-center"&gt;Regresar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudButton</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudButton</span> <span class="token attr-name">ButtonType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ButtonType.Submit<span class="token punctuation">"</span></span> <span class="token attr-name">Variant</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Variant.Filled<span class="token punctuation">"</span></span> <span class="token attr-name">Color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Color.Error<span class="token punctuation">"</span></span> <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ml-auto<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Eliminar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudButton</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudCardActions</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudCard</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>EditForm</span><span class="token punctuation">&gt;</span></span>
            <span class="token block"><span class="token keyword">@if</span> <span class="token csharp language-csharp"><span class="token punctuation">(</span>showLeaveAlert<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudAlert</span> <span class="token attr-name">Severity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Severity.Error<span class="token punctuation">"</span></span> <span class="token attr-name">ContentAlignment</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HorizontalAlignment.Center<span class="token punctuation">"</span></span> <span class="token attr-name">ShowCloseIcon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">CloseIconClicked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(() =&gt; CloseMe(true))<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Ocurri贸 un problema.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudAlert</span><span class="token punctuation">&gt;</span></span></span>
            <span class="token punctuation">}</span></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudPaper</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudItem</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudGrid</span><span class="token punctuation">&gt;</span></span>

<span class="token block"><span class="token keyword">@code</span> <span class="token csharp language-csharp"><span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Parameter</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">bool</span></span> showLeaveAlert <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token class-name">Categoria</span> categoria <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Categoria</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">OnInitializedAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        httpClient<span class="token punctuation">.</span>DefaultRequestHeaders<span class="token punctuation">.</span>Authorization <span class="token operator">=</span>
            <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AuthenticationHeaderValue</span><span class="token punctuation">(</span><span class="token string">"Bearer"</span><span class="token punctuation">,</span> <span class="token keyword">await</span> _localStorageService<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetItemAsync</span><span class="token generic class-name"><span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">"token"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name"><span class="token keyword">var</span></span> resp <span class="token operator">=</span> <span class="token keyword">await</span> httpClient<span class="token punctuation">.</span><span class="token function">GetStringAsync</span><span class="token punctuation">(</span><span class="token string">"categorias/"</span> <span class="token operator">+</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        categoria <span class="token operator">=</span> JsonSerializer<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Deserialize</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Categoria<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>resp<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">JsonSerializerOptions</span> <span class="token punctuation">{</span> PropertyNameCaseInsensitive <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">OnValidSubmit</span><span class="token punctuation">(</span><span class="token class-name">EditContext</span> context<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">await</span> <span class="token function">eliminar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">eliminar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>

        <span class="token class-name"><span class="token keyword">var</span></span> httpResponse <span class="token operator">=</span> <span class="token keyword">await</span> httpClient<span class="token punctuation">.</span><span class="token function">DeleteAsync</span><span class="token punctuation">(</span><span class="token string">"categorias/"</span> <span class="token operator">+</span> categoria<span class="token punctuation">.</span>Id<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>httpResponse<span class="token punctuation">.</span>StatusCode <span class="token operator">==</span> System<span class="token punctuation">.</span>Net<span class="token punctuation">.</span>HttpStatusCode<span class="token punctuation">.</span>OK<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            showLeaveAlert <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{</span>
            navigationManager<span class="token punctuation">.</span><span class="token function">NavigateTo</span><span class="token punctuation">(</span><span class="token string">"categoria/index"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">CloseMe</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">bool</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        showLeaveAlert <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></code></pre>
<p>Ya que hemos finalizado de codificar cada una de las p谩ginas, ahora vamos a actualizar el men煤 de navegaci贸n para colocar la entrada correspondiente al mantenimiento de Categor铆as.</p>
<pre><code class="fenced-code-block language-cshtml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudNavMenu</span> <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mud-width-full<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudNavLink</span> <span class="token attr-name">Href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span> <span class="token attr-name">Icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@Icons.Material.Outlined.Home<span class="token punctuation">"</span></span> <span class="token attr-name">IconColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Color.Tertiary<span class="token punctuation">"</span></span> <span class="token attr-name">Size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Size.Large<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        Home
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudNavLink</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudDivider</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudNavLink</span> <span class="token attr-name">Href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/categoria/index<span class="token punctuation">"</span></span> <span class="token attr-name">Icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@Icons.Material.Outlined.Checklist<span class="token punctuation">"</span></span> <span class="token attr-name">IconColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Color.Tertiary<span class="token punctuation">"</span></span> <span class="token attr-name">Size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Size.Large<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        Categor铆as
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudNavLink</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudNavLink</span> <span class="token attr-name">Href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/weather<span class="token punctuation">"</span></span> <span class="token attr-name">Icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@Icons.Material.Outlined.WbSunny<span class="token punctuation">"</span></span> <span class="token attr-name">IconColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Color.Tertiary<span class="token punctuation">"</span></span> <span class="token attr-name">Size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Size.Large<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        Weather
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudNavLink</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudNavMenu</span><span class="token punctuation">&gt;</span></span></code></pre>
<h2 class="atx" id="prueba-del-proceso-de-manejo-de-categorias">Prueba del proceso de manejo de Categor铆as.</h2>
<p>Antes de ejecutar el proyecto del Frontend verificar que la API Rest est谩 funcionando en la PC, luego ejecutar el proyecto de Frontend, iniciar sesi贸n y dirigirse al men煤 <strong>Categor铆as</strong>en la barra de navegaci贸n.</p>
<p><img alt="" src="images/2024-09-20-13-33-48-image.png"></p>
<p>Vemos que al cargar la p谩gina Index, se carga la lista de Categor铆as que est谩n registradas en la base de datos. Procedamos a probar la funci贸n para Agregar un registro nuevo dando clic en el bot贸n circular con el signo '+'</p>
<p><img alt="" src="images/2024-09-20-13-36-05-image.png"></p>
<p>Verificar que al dar clic en el bot贸n Guardar, regresemos a la lista principal y ya aparezca la categor铆a reci茅n agregada.</p>
<p><img alt="" src="images/2024-09-20-13-37-25-image.png"></p>
<p>Ahora vamos con la prueba para editar un registro, as铆 daremos clic en el bot贸n Modificar de la categor铆a que acabamos de registrar</p>
<p><img alt="" src="images/2024-09-20-13-38-35-image.png"></p>
<p>Modificar el texto para el nombre y dar clic en el bot贸n Guardar cambios, comprobar que al regresar a la lista se haya actualizado dicho valor.</p>
<p><img alt="" src="images/2024-09-20-13-41-15-image.png"></p>
<p>Finalmente probamos la funci贸n para Eliminar una categor铆a, para ello damos clic en el bot贸n Eliminar de la categor铆a reci茅n editada.</p>
<p><img alt="" src="images/2024-09-20-13-42-14-image.png"></p>
<p>Confirmar la eliminaci贸n dando clic en el bot贸n Eliminar, verificar que al regresar a la lista se haya eliminado el registro.</p>
<p><img alt="" src="images/2024-09-20-13-43-16-image.png"></p>
<p>Con esto hemos verificado que nuestra aplicaci贸n funciona correctamente y que podemos realizar el mantenimiento completo de las Categor铆as.</p>
<h2 class="atx" id="proceso-para-mantenimiento-de-proyectos">Proceso para mantenimiento de Proyectos.</h2>
<p>Para dar inicio a este proceso comenzaremos creando una nueva clase dentro de la carpeta Model, a esta clase le daremos el nombre <strong>Proyecto.cs</strong></p>
<img width="296" alt="" title="" src="images/2024-09-20-13-54-46-image.png">

<p>Procedemos a codificar esta clase reci茅n creada</p>
<pre><code class="fenced-code-block language-csharp"><span class="token keyword">namespace</span> <span class="token namespace">FrontendAdminProyectosBlazor<span class="token punctuation">.</span>Models</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Proyecto</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Titulo <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Descripcion <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> FechaInicio <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> FechaFin <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token comment">//public int IdCategoria { get; set; } //.NET</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> CategoriaId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token comment">// Java</span>
        <span class="token keyword">public</span> <span class="token return-type class-name">Categoria</span> Categoria <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Luego nos dirigimos a la carpeta <strong>Pages</strong> y dentro de ella crearemos una nueva carpeta a la que le vamos a dar el nombre: <strong>Proyecto</strong></p>
<img width="302" alt="" src="images/2024-09-20-13-58-53-image.png" title="">

<p>Dentro de la carpeta Proyecto vamos a agregar los siguientes componentes de razor</p>
<ol>
<li><p>Index.razor</p>
</li>
<li><p>Agregar.razor</p>
</li>
<li><p>Detalle.razor</p>
</li>
<li><p>Modificar.razor</p>
</li>
<li><p>Eliminar.razor</p>
</li>
</ol>
<img width="305" alt="" src="images/2024-09-20-14-01-26-image.png" title="">

<p>Ahora procedemos a codificar cada una de las p谩ginas respetando el orden en que fueron creadas.</p>
<pre><code class="fenced-code-block language-cshtml"><span class="token directive"><span class="token keyword">@page</span> <span class="token csharp language-csharp"><span class="token string">"/proyecto/index"</span></span></span>
<span class="token directive"><span class="token keyword">@inject</span> <span class="token csharp language-csharp">HttpClient httpClient</span></span>
<span class="token directive"><span class="token keyword">@inject</span> <span class="token csharp language-csharp">NavigationManager navigationManager</span></span>
<span class="token directive"><span class="token keyword">@inject</span> <span class="token csharp language-csharp">ILocalStorageService _localStorageService</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudText</span> <span class="token attr-name">Typo</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Typo.h2<span class="token punctuation">"</span></span> <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ml<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Proyectos<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudText</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTable</span> <span class="token attr-name">Items</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@proyectos<span class="token punctuation">"</span></span> <span class="token attr-name">Hover</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">Bordered</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">Striped</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ToolBarContent</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudFab</span> <span class="token attr-name">Color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Color.Primary<span class="token punctuation">"</span></span> <span class="token attr-name">StartIcon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@Icons.Material.Filled.Add<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">OnClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript">goAdd</span><span class="token punctuation">"</span></span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudSpacer</span> <span class="token punctuation">/&gt;</span></span>
        <span class="token razor-comment comment">@* &lt;MudTextField @bind-Value="searchText" OnKeyUp="searchByName" Placeholder="Search" Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.Search" IconSize="Size.Medium" Class="mt-0"&gt;&lt;/MudTextField&gt; *@</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ToolBarContent</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HeaderContent</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTh</span><span class="token punctuation">&gt;</span></span>Id<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudTh</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTh</span><span class="token punctuation">&gt;</span></span>T铆tulo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudTh</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTh</span><span class="token punctuation">&gt;</span></span>FechaInicio<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudTh</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTh</span><span class="token punctuation">&gt;</span></span>FechaFin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudTh</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTh</span><span class="token punctuation">&gt;</span></span>Categor铆a<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudTh</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTh</span><span class="token punctuation">&gt;</span></span>Acciones<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudTh</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>HeaderContent</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RowTemplate</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTd</span> <span class="token attr-name">DataLabel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Id<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token value variable"><span class="token keyword">@</span><span class="token csharp language-csharp">context<span class="token punctuation">.</span>Id</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudTd</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTd</span> <span class="token attr-name">DataLabel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>T铆tulo<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token value variable"><span class="token keyword">@</span><span class="token csharp language-csharp">context<span class="token punctuation">.</span>Titulo</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudTd</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTd</span> <span class="token attr-name">DataLabel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Fecha Inicio<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token value variable"><span class="token keyword">@</span><span class="token csharp language-csharp">context<span class="token punctuation">.</span>FechaInicio</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudTd</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTd</span> <span class="token attr-name">DataLabel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Fecha Fin<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token value variable"><span class="token keyword">@</span><span class="token csharp language-csharp">context<span class="token punctuation">.</span>FechaFin</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudTd</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTd</span> <span class="token attr-name">DataLabel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Categor铆a<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token value variable"><span class="token keyword">@</span><span class="token csharp language-csharp">context<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Nombre</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudTd</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTd</span><span class="token punctuation">&gt;</span></span>
            &lt;MudButton Href="<span class="token value variable"><span class="token keyword">@</span><span class="token csharp language-csharp"><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"/proyecto/detalle/</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">context<span class="token punctuation">.</span>Id</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span></span></span>" Size="Size.Small" Variant="Variant.Outlined" Color="Color.Info"
                       Class="text-center"&gt;Detalle<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudButton</span><span class="token punctuation">&gt;</span></span>
            &lt;MudButton Href="<span class="token value variable"><span class="token keyword">@</span><span class="token csharp language-csharp"><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"/proyecto/editar/</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">context<span class="token punctuation">.</span>Id</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span></span></span>" Size="Size.Small" Variant="Variant.Outlined" Color="Color.Tertiary"
                       Class="text-center"&gt;Editar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudButton</span><span class="token punctuation">&gt;</span></span>
            &lt;MudButton Href="<span class="token value variable"><span class="token keyword">@</span><span class="token csharp language-csharp"><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"/proyecto/eliminar/</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">context<span class="token punctuation">.</span>Id</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span></span></span>" Size="Size.Small" Variant="Variant.Outlined" Color="Color.Warning"
                       Class="text-center"&gt;Eliminar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudButton</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudTd</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RowTemplate</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PagerContent</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTablePager</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PagerContent</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudTable</span><span class="token punctuation">&gt;</span></span>

<span class="token block"><span class="token keyword">@code</span> <span class="token csharp language-csharp"><span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span>Proyecto<span class="token punctuation">&gt;</span></span> proyectos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span>Proyecto<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">string</span></span> searchText <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Proyecto</span> proyecto <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Proyecto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">OnInitializedAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        httpClient<span class="token punctuation">.</span>DefaultRequestHeaders<span class="token punctuation">.</span>Authorization <span class="token operator">=</span>
            <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AuthenticationHeaderValue</span><span class="token punctuation">(</span><span class="token string">"Bearer"</span><span class="token punctuation">,</span> <span class="token keyword">await</span> _localStorageService<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetItemAsync</span><span class="token generic class-name"><span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">"token"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">await</span> <span class="token function">getAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">getAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//var httpResponse = await httpClient.GetStringAsync("proyectos"); // .NET</span>
        <span class="token class-name"><span class="token keyword">var</span></span> httpResponse <span class="token operator">=</span> <span class="token keyword">await</span> httpClient<span class="token punctuation">.</span><span class="token function">GetStringAsync</span><span class="token punctuation">(</span><span class="token string">"proyectos/lista"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Java</span>
        proyectos <span class="token operator">=</span> JsonSerializer<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Deserialize</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>IEnumerable<span class="token punctuation">&lt;</span>Proyecto<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>httpResponse<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">JsonSerializerOptions</span> <span class="token punctuation">{</span> PropertyNameCaseInsensitive <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">goAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        navigationManager<span class="token punctuation">.</span><span class="token function">NavigateTo</span><span class="token punctuation">(</span><span class="token string">"proyecto/agregar"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span>
</code></pre>
<pre><code class="fenced-code-block language-cshtml"><span class="token directive"><span class="token keyword">@page</span> <span class="token csharp language-csharp"><span class="token string">"/proyecto/agregar"</span></span></span>
<span class="token directive"><span class="token keyword">@inject</span> <span class="token csharp language-csharp">HttpClient httpClient</span></span>
<span class="token directive"><span class="token keyword">@inject</span> <span class="token csharp language-csharp">NavigationManager navigationManager</span></span>
<span class="token directive"><span class="token keyword">@inject</span> <span class="token csharp language-csharp">ILocalStorageService _localStorageService</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudText</span> <span class="token attr-name">Typo</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Typo.h2<span class="token punctuation">"</span></span> <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ml<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Nuevo Proyecto<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudText</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudGrid</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudItem</span> <span class="token attr-name">xs</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>12<span class="token punctuation">"</span></span> <span class="token attr-name">sm</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>7<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudPaper</span> <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pa-4<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>EditForm</span> <span class="token attr-name">Model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>proyecto<span class="token punctuation">"</span></span> <span class="token attr-name">OnValidSubmit</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>OnValidSubmit<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DataAnnotationsValidator</span> <span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudCard</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudCardContent</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTextField</span> <span class="token attr-name">Label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>T铆tulo<span class="token punctuation">"</span></span> <span class="token attr-name">@bind-Value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>proyecto.Titulo<span class="token punctuation">"</span></span> <span class="token attr-name">For</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@(() =&gt; proyecto.Titulo)<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTextField</span> <span class="token attr-name">Label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Descripcion<span class="token punctuation">"</span></span> <span class="token attr-name">@bind-Value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>proyecto.Descripcion<span class="token punctuation">"</span></span> <span class="token attr-name">For</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@(() =&gt; proyecto.Descripcion)<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudDatePicker</span> <span class="token attr-name">Label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Fecha de Inicio<span class="token punctuation">"</span></span> <span class="token attr-name">@bind-Date</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fechaInicio<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudDatePicker</span> <span class="token attr-name">Label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Fecha de Fin<span class="token punctuation">"</span></span> <span class="token attr-name">@bind-Date</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fechaFin<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudSelect</span> <span class="token attr-name">Variant</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Variant.Outlined<span class="token punctuation">"</span></span> <span class="token attr-name">Label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Categor铆a<span class="token punctuation">"</span></span> <span class="token attr-name">AnchorOrigin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Origin.BottomCenter<span class="token punctuation">"</span></span>
                                   <span class="token attr-name">@bind-Value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>categoriaSeleccionada<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                            <span class="token block"><span class="token keyword">@foreach</span> <span class="token csharp language-csharp"><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> item <span class="token keyword">in</span> categorias<span class="token punctuation">)</span>
                            <span class="token punctuation">{</span>
                                <span class="token html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudSelectItem</span> <span class="token attr-name">Value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@item.Id<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token value variable"><span class="token keyword">@</span><span class="token csharp language-csharp">item<span class="token punctuation">.</span>Nombre</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudSelectItem</span><span class="token punctuation">&gt;</span></span></span>
                            <span class="token punctuation">}</span></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudSelect</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudCardContent</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudCardActions</span><span class="token punctuation">&gt;</span></span>
                        &lt;MudButton Href="<span class="token value variable"><span class="token keyword">@</span><span class="token csharp language-csharp"><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"/proyecto/index"</span></span><span class="token punctuation">)</span></span></span>" Variant="Variant.Filled" Color="Color.Info"
                                   Class="text-center"&gt;Regresar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudButton</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudButton</span> <span class="token attr-name">ButtonType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ButtonType.Submit<span class="token punctuation">"</span></span> <span class="token attr-name">Variant</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Variant.Filled<span class="token punctuation">"</span></span> <span class="token attr-name">Color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Color.Primary<span class="token punctuation">"</span></span>
                                   <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ml-auto<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Guardar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudButton</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudCardActions</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudCard</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>EditForm</span><span class="token punctuation">&gt;</span></span>
            <span class="token block"><span class="token keyword">@if</span> <span class="token csharp language-csharp"><span class="token punctuation">(</span>showLeaveAlert<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudAlert</span> <span class="token attr-name">Severity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Severity.Error<span class="token punctuation">"</span></span> <span class="token attr-name">ContentAlignment</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HorizontalAlignment.Center<span class="token punctuation">"</span></span> <span class="token attr-name">ShowCloseIcon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">CloseIconClicked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(() =&gt; CloseMe(true))<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>No se pudo guardar.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudAlert</span><span class="token punctuation">&gt;</span></span></span>
            <span class="token punctuation">}</span></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudPaper</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudItem</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudGrid</span><span class="token punctuation">&gt;</span></span>

<span class="token block"><span class="token keyword">@code</span> <span class="token csharp language-csharp"><span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">bool</span></span> success<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span>Categoria<span class="token punctuation">&gt;</span></span> categorias <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span>Categoria<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">bool</span></span> showLeaveAlert <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token class-name">Proyecto</span> proyecto <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Proyecto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">DateTime<span class="token punctuation">?</span></span> fechaInicio <span class="token operator">=</span> DateTime<span class="token punctuation">.</span>Today<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">DateTime<span class="token punctuation">?</span></span> fechaFin <span class="token operator">=</span> DateTime<span class="token punctuation">.</span>Today<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">int</span></span> categoriaSeleccionada<span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">OnInitializedAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        httpClient<span class="token punctuation">.</span>DefaultRequestHeaders<span class="token punctuation">.</span>Authorization <span class="token operator">=</span>
            <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AuthenticationHeaderValue</span><span class="token punctuation">(</span><span class="token string">"Bearer"</span><span class="token punctuation">,</span> <span class="token keyword">await</span> _localStorageService<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetItemAsync</span><span class="token generic class-name"><span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">"token"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">await</span> <span class="token function">getCategorias</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        categoriaSeleccionada <span class="token operator">=</span> categorias<span class="token punctuation">.</span><span class="token function">FirstOrDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">OnValidSubmit</span><span class="token punctuation">(</span><span class="token class-name">EditContext</span> context<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">await</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        success <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token function">StateHasChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        proyecto<span class="token punctuation">.</span>FechaInicio <span class="token operator">=</span> fechaInicio<span class="token punctuation">?.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token string">"dd-MM-yyyy"</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token keyword">string</span><span class="token punctuation">.</span>Empty<span class="token punctuation">;</span>
        proyecto<span class="token punctuation">.</span>FechaFin <span class="token operator">=</span> fechaFin<span class="token punctuation">?.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token string">"dd-MM-yyyy"</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token keyword">string</span><span class="token punctuation">.</span>Empty<span class="token punctuation">;</span>
        proyecto<span class="token punctuation">.</span>CategoriaId <span class="token operator">=</span> categoriaSeleccionada<span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword">var</span></span> httpResponse <span class="token operator">=</span> <span class="token keyword">await</span> httpClient<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">PostAsJsonAsync</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Proyecto<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">"proyectos"</span><span class="token punctuation">,</span> proyecto<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>httpResponse<span class="token punctuation">.</span>StatusCode <span class="token operator">==</span> System<span class="token punctuation">.</span>Net<span class="token punctuation">.</span>HttpStatusCode<span class="token punctuation">.</span>OK<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            showLeaveAlert <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{</span>
            navigationManager<span class="token punctuation">.</span><span class="token function">NavigateTo</span><span class="token punctuation">(</span><span class="token string">"proyecto/index"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">CloseMe</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">bool</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        showLeaveAlert <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">getCategorias</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//var httpResponse = await httpClient.GetStringAsync("categorias"); // .NET</span>
        <span class="token class-name"><span class="token keyword">var</span></span> httpResponse <span class="token operator">=</span> <span class="token keyword">await</span> httpClient<span class="token punctuation">.</span><span class="token function">GetStringAsync</span><span class="token punctuation">(</span><span class="token string">"categorias/lista"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Java</span>
        categorias <span class="token operator">=</span> JsonSerializer<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Deserialize</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>IEnumerable<span class="token punctuation">&lt;</span>Categoria<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>httpResponse<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">JsonSerializerOptions</span> <span class="token punctuation">{</span> PropertyNameCaseInsensitive <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></code></pre>
<pre><code class="fenced-code-block language-cshtml"><span class="token directive"><span class="token keyword">@page</span> <span class="token csharp language-csharp"><span class="token string">"/proyecto/detalle/{id:int}"</span></span></span>

<span class="token directive"><span class="token keyword">@inject</span> <span class="token csharp language-csharp">HttpClient httpClient</span></span>
<span class="token directive"><span class="token keyword">@inject</span> <span class="token csharp language-csharp">NavigationManager navigationManager</span></span>
<span class="token directive"><span class="token keyword">@inject</span> <span class="token csharp language-csharp">ILocalStorageService _localStorageService</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudText</span> <span class="token attr-name">Typo</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Typo.h2<span class="token punctuation">"</span></span> <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ml<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Detalles del proyecto<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudText</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudGrid</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudItem</span> <span class="token attr-name">xs</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>12<span class="token punctuation">"</span></span> <span class="token attr-name">sm</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>7<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudPaper</span> <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pa-4<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>EditForm</span> <span class="token attr-name">Model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>proyecto<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DataAnnotationsValidator</span> <span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudCard</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudCardContent</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTextField</span> <span class="token attr-name">Label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>T铆tulo<span class="token punctuation">"</span></span> <span class="token attr-name">@bind-Value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>proyecto.Titulo<span class="token punctuation">"</span></span> <span class="token attr-name">For</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@(() =&gt; proyecto.Titulo)<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTextField</span> <span class="token attr-name">Label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Descripcion<span class="token punctuation">"</span></span> <span class="token attr-name">@bind-Value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>proyecto.Descripcion<span class="token punctuation">"</span></span> <span class="token attr-name">For</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@(() =&gt; proyecto.Descripcion)<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudDatePicker</span> <span class="token attr-name">Label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Fecha de Inicio<span class="token punctuation">"</span></span> <span class="token attr-name">@bind-Date</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fechaInicio<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudDatePicker</span> <span class="token attr-name">Label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Fecha de Fin<span class="token punctuation">"</span></span> <span class="token attr-name">@bind-Date</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fechaFin<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTextField</span> <span class="token attr-name">Label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Categor铆a<span class="token punctuation">"</span></span> <span class="token attr-name">@bind-Value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>categoria.Nombre<span class="token punctuation">"</span></span> <span class="token attr-name">For</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@(() =&gt; categoria.Nombre)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudTextField</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudCardContent</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudCardActions</span><span class="token punctuation">&gt;</span></span>
                        &lt;MudButton Href="<span class="token value variable"><span class="token keyword">@</span><span class="token csharp language-csharp"><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"/proyecto/index"</span></span><span class="token punctuation">)</span></span></span>" Variant="Variant.Filled" Color="Color.Info"
                                   Class="text-center"&gt;Regresar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudButton</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudCardActions</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudCard</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>EditForm</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudPaper</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudItem</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudGrid</span><span class="token punctuation">&gt;</span></span>


<span class="token block"><span class="token keyword">@code</span> <span class="token csharp language-csharp"><span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Parameter</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token class-name">Proyecto</span> proyecto <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Proyecto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Categoria</span> categoria <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Categoria</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">DateTime<span class="token punctuation">?</span></span> fechaInicio <span class="token operator">=</span> DateTime<span class="token punctuation">.</span>Today<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">DateTime<span class="token punctuation">?</span></span> fechaFin <span class="token operator">=</span> DateTime<span class="token punctuation">.</span>Today<span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">OnInitializedAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        httpClient<span class="token punctuation">.</span>DefaultRequestHeaders<span class="token punctuation">.</span>Authorization <span class="token operator">=</span>
            <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AuthenticationHeaderValue</span><span class="token punctuation">(</span><span class="token string">"Bearer"</span><span class="token punctuation">,</span> <span class="token keyword">await</span> _localStorageService<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetItemAsync</span><span class="token generic class-name"><span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">"token"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">await</span> <span class="token function">getProyecto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fechaInicio <span class="token operator">=</span> Convert<span class="token punctuation">.</span><span class="token function">ToDateTime</span><span class="token punctuation">(</span>proyecto<span class="token punctuation">.</span>FechaInicio<span class="token punctuation">)</span><span class="token punctuation">;</span>
        fechaFin <span class="token operator">=</span> Convert<span class="token punctuation">.</span><span class="token function">ToDateTime</span><span class="token punctuation">(</span>proyecto<span class="token punctuation">.</span>FechaFin<span class="token punctuation">)</span><span class="token punctuation">;</span>
        categoria <span class="token operator">=</span> proyecto<span class="token punctuation">.</span>Categoria<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">getProyecto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">var</span></span> resp <span class="token operator">=</span> <span class="token keyword">await</span> httpClient<span class="token punctuation">.</span><span class="token function">GetStringAsync</span><span class="token punctuation">(</span><span class="token string">"proyectos/"</span> <span class="token operator">+</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        proyecto <span class="token operator">=</span> JsonSerializer<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Deserialize</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Proyecto<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>resp<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">JsonSerializerOptions</span> <span class="token punctuation">{</span> PropertyNameCaseInsensitive <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></code></pre>
<pre><code class="fenced-code-block language-cshtml"><span class="token directive"><span class="token keyword">@page</span> <span class="token csharp language-csharp"><span class="token string">"/proyecto/editar/{id:int}"</span></span></span>

<span class="token directive"><span class="token keyword">@inject</span> <span class="token csharp language-csharp">HttpClient httpClient</span></span>
<span class="token directive"><span class="token keyword">@inject</span> <span class="token csharp language-csharp">NavigationManager navigationManager</span></span>
<span class="token directive"><span class="token keyword">@inject</span> <span class="token csharp language-csharp">ILocalStorageService _localStorageService</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudText</span> <span class="token attr-name">Typo</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Typo.h2<span class="token punctuation">"</span></span> <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ml<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Editar Proyecto<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudText</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudGrid</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudItem</span> <span class="token attr-name">xs</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>12<span class="token punctuation">"</span></span> <span class="token attr-name">sm</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>7<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudPaper</span> <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pa-4<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>EditForm</span> <span class="token attr-name">Model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>proyecto<span class="token punctuation">"</span></span> <span class="token attr-name">OnValidSubmit</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>OnValidSubmit<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DataAnnotationsValidator</span> <span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudCard</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudCardContent</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTextField</span> <span class="token attr-name">Label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>T铆tulo<span class="token punctuation">"</span></span> <span class="token attr-name">@bind-Value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>proyecto.Titulo<span class="token punctuation">"</span></span> <span class="token attr-name">For</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@(() =&gt; proyecto.Titulo)<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTextField</span> <span class="token attr-name">Label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Descripcion<span class="token punctuation">"</span></span> <span class="token attr-name">@bind-Value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>proyecto.Descripcion<span class="token punctuation">"</span></span> <span class="token attr-name">For</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@(() =&gt; proyecto.Descripcion)<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudDatePicker</span> <span class="token attr-name">Label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Fecha de Inicio<span class="token punctuation">"</span></span> <span class="token attr-name">@bind-Date</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fechaInicio<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudDatePicker</span> <span class="token attr-name">Label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Fecha de Fin<span class="token punctuation">"</span></span> <span class="token attr-name">@bind-Date</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fechaFin<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudSelect</span> <span class="token attr-name">Variant</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Variant.Outlined<span class="token punctuation">"</span></span> <span class="token attr-name">Label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Categor铆a<span class="token punctuation">"</span></span> <span class="token attr-name">AnchorOrigin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Origin.BottomCenter<span class="token punctuation">"</span></span>
                                   <span class="token attr-name">@bind-Value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>categoriaSeleccionada<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                            <span class="token block"><span class="token keyword">@foreach</span> <span class="token csharp language-csharp"><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> item <span class="token keyword">in</span> categorias<span class="token punctuation">)</span>
                            <span class="token punctuation">{</span>
                                <span class="token html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudSelectItem</span> <span class="token attr-name">Value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@item.Id<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token value variable"><span class="token keyword">@</span><span class="token csharp language-csharp">item<span class="token punctuation">.</span>Nombre</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudSelectItem</span><span class="token punctuation">&gt;</span></span></span>
                            <span class="token punctuation">}</span></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudSelect</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudCardContent</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudCardActions</span><span class="token punctuation">&gt;</span></span>
                        &lt;MudButton Href="<span class="token value variable"><span class="token keyword">@</span><span class="token csharp language-csharp"><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"/proyecto/index"</span></span><span class="token punctuation">)</span></span></span>" Variant="Variant.Filled" Color="Color.Info"
                                   Class="text-center"&gt;Regresar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudButton</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudButton</span> <span class="token attr-name">ButtonType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ButtonType.Submit<span class="token punctuation">"</span></span> <span class="token attr-name">Variant</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Variant.Filled<span class="token punctuation">"</span></span> <span class="token attr-name">Color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Color.Primary<span class="token punctuation">"</span></span>
                                   <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ml-auto<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Guardar cambios<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudButton</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudCardActions</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudCard</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>EditForm</span><span class="token punctuation">&gt;</span></span>
            <span class="token block"><span class="token keyword">@if</span> <span class="token csharp language-csharp"><span class="token punctuation">(</span>showLeaveAlert<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudAlert</span> <span class="token attr-name">Severity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Severity.Error<span class="token punctuation">"</span></span> <span class="token attr-name">ContentAlignment</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HorizontalAlignment.Center<span class="token punctuation">"</span></span> <span class="token attr-name">ShowCloseIcon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">CloseIconClicked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(() =&gt; CloseMe(true))<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Ocurri贸 un problema.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudAlert</span><span class="token punctuation">&gt;</span></span></span>
            <span class="token punctuation">}</span></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudPaper</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudItem</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudGrid</span><span class="token punctuation">&gt;</span></span>

<span class="token block"><span class="token keyword">@code</span> <span class="token csharp language-csharp"><span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Parameter</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span>Categoria<span class="token punctuation">&gt;</span></span> categorias <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span>Categoria<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">int</span></span> categoriaSeleccionada<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">bool</span></span> showLeaveAlert <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token class-name">Proyecto</span> proyecto <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Proyecto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">DateTime<span class="token punctuation">?</span></span> fechaInicio <span class="token operator">=</span> DateTime<span class="token punctuation">.</span>Today<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">DateTime<span class="token punctuation">?</span></span> fechaFin <span class="token operator">=</span> DateTime<span class="token punctuation">.</span>Today<span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">OnInitializedAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        httpClient<span class="token punctuation">.</span>DefaultRequestHeaders<span class="token punctuation">.</span>Authorization <span class="token operator">=</span>
        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AuthenticationHeaderValue</span><span class="token punctuation">(</span><span class="token string">"Bearer"</span><span class="token punctuation">,</span> <span class="token keyword">await</span> _localStorageService<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetItemAsync</span><span class="token generic class-name"><span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">"token"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">await</span> <span class="token function">getCategorias</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name"><span class="token keyword">var</span></span> resp <span class="token operator">=</span> <span class="token keyword">await</span> httpClient<span class="token punctuation">.</span><span class="token function">GetStringAsync</span><span class="token punctuation">(</span><span class="token string">"proyectos/"</span> <span class="token operator">+</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        proyecto <span class="token operator">=</span> JsonSerializer<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Deserialize</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Proyecto<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>resp<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">JsonSerializerOptions</span> <span class="token punctuation">{</span> PropertyNameCaseInsensitive <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fechaInicio <span class="token operator">=</span> Convert<span class="token punctuation">.</span><span class="token function">ToDateTime</span><span class="token punctuation">(</span>proyecto<span class="token punctuation">.</span>FechaInicio<span class="token punctuation">)</span><span class="token punctuation">;</span>
        fechaFin <span class="token operator">=</span> Convert<span class="token punctuation">.</span><span class="token function">ToDateTime</span><span class="token punctuation">(</span>proyecto<span class="token punctuation">.</span>FechaFin<span class="token punctuation">)</span><span class="token punctuation">;</span>
        categoriaSeleccionada <span class="token operator">=</span> proyecto<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">OnValidSubmit</span><span class="token punctuation">(</span><span class="token class-name">EditContext</span> context<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">await</span> <span class="token function">saveChanges</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">saveChanges</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        proyecto<span class="token punctuation">.</span>FechaInicio <span class="token operator">=</span> fechaInicio<span class="token punctuation">?.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token string">"dd-MM-yyyy"</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token keyword">string</span><span class="token punctuation">.</span>Empty<span class="token punctuation">;</span>
        proyecto<span class="token punctuation">.</span>FechaFin <span class="token operator">=</span> fechaFin<span class="token punctuation">?.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token string">"dd-MM-yyyy"</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token keyword">string</span><span class="token punctuation">.</span>Empty<span class="token punctuation">;</span>
        proyecto<span class="token punctuation">.</span>CategoriaId <span class="token operator">=</span> categoriaSeleccionada<span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword">var</span></span> httpResponse <span class="token operator">=</span> <span class="token keyword">await</span> httpClient<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">PutAsJsonAsync</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Proyecto<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">"proyectos/"</span> <span class="token operator">+</span> proyecto<span class="token punctuation">.</span>Id<span class="token punctuation">,</span> proyecto<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>httpResponse<span class="token punctuation">.</span>StatusCode <span class="token operator">==</span> System<span class="token punctuation">.</span>Net<span class="token punctuation">.</span>HttpStatusCode<span class="token punctuation">.</span>OK<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            showLeaveAlert <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{</span>
            navigationManager<span class="token punctuation">.</span><span class="token function">NavigateTo</span><span class="token punctuation">(</span><span class="token string">"proyecto/index"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">CloseMe</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">bool</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        showLeaveAlert <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">getCategorias</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">var</span></span> httpResponse <span class="token operator">=</span> <span class="token keyword">await</span> httpClient<span class="token punctuation">.</span><span class="token function">GetStringAsync</span><span class="token punctuation">(</span><span class="token string">"categorias/lista"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        categorias <span class="token operator">=</span> JsonSerializer<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Deserialize</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>IEnumerable<span class="token punctuation">&lt;</span>Categoria<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>httpResponse<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">JsonSerializerOptions</span> <span class="token punctuation">{</span> PropertyNameCaseInsensitive <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></code></pre>
<pre><code class="fenced-code-block language-cshtml"><span class="token directive"><span class="token keyword">@page</span> <span class="token csharp language-csharp"><span class="token string">"/proyecto/eliminar/{id:int}"</span></span></span>
<span class="token directive"><span class="token keyword">@inject</span> <span class="token csharp language-csharp">HttpClient httpClient</span></span>
<span class="token directive"><span class="token keyword">@inject</span> <span class="token csharp language-csharp">NavigationManager navigationManager</span></span>
<span class="token directive"><span class="token keyword">@inject</span> <span class="token csharp language-csharp">ILocalStorageService _localStorageService</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudText</span> <span class="token attr-name">Typo</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Typo.h2<span class="token punctuation">"</span></span> <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ml<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Eliminar Proyecto<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudText</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudGrid</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudItem</span> <span class="token attr-name">xs</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>12<span class="token punctuation">"</span></span> <span class="token attr-name">sm</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>7<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudPaper</span> <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pa-4<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>EditForm</span> <span class="token attr-name">Model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>proyecto<span class="token punctuation">"</span></span> <span class="token attr-name">OnValidSubmit</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>OnValidSubmit<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DataAnnotationsValidator</span> <span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudCard</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudCardContent</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTextField</span> <span class="token attr-name">Label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>T铆tulo<span class="token punctuation">"</span></span> <span class="token attr-name">@bind-Value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>proyecto.Titulo<span class="token punctuation">"</span></span> <span class="token attr-name">For</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@(() =&gt; proyecto.Titulo)<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTextField</span> <span class="token attr-name">Label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Descripcion<span class="token punctuation">"</span></span> <span class="token attr-name">@bind-Value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>proyecto.Descripcion<span class="token punctuation">"</span></span> <span class="token attr-name">For</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@(() =&gt; proyecto.Descripcion)<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudDatePicker</span> <span class="token attr-name">Label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Fecha de Inicio<span class="token punctuation">"</span></span> <span class="token attr-name">@bind-Date</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fechaInicio<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudDatePicker</span> <span class="token attr-name">Label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Fecha de Fin<span class="token punctuation">"</span></span> <span class="token attr-name">@bind-Date</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fechaFin<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudTextField</span> <span class="token attr-name">Label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Categor铆a<span class="token punctuation">"</span></span> <span class="token attr-name">@bind-Value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>categoria.Nombre<span class="token punctuation">"</span></span> <span class="token attr-name">For</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@(() =&gt; categoria.Nombre)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudTextField</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudCardContent</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudCardActions</span><span class="token punctuation">&gt;</span></span>
                        &lt;MudButton Href="<span class="token value variable"><span class="token keyword">@</span><span class="token csharp language-csharp"><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"/proyecto/index"</span></span><span class="token punctuation">)</span></span></span>" Variant="Variant.Filled" Color="Color.Info"
                                   Class="text-center"&gt;Regresar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudButton</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudButton</span> <span class="token attr-name">ButtonType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ButtonType.Submit<span class="token punctuation">"</span></span> <span class="token attr-name">Variant</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Variant.Filled<span class="token punctuation">"</span></span> <span class="token attr-name">Color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Color.Error<span class="token punctuation">"</span></span>
                                   <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ml-auto<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Eliminar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudButton</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudCardActions</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudCard</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>EditForm</span><span class="token punctuation">&gt;</span></span>
            <span class="token block"><span class="token keyword">@if</span> <span class="token csharp language-csharp"><span class="token punctuation">(</span>showLeaveAlert<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudAlert</span> <span class="token attr-name">Severity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Severity.Error<span class="token punctuation">"</span></span> <span class="token attr-name">ContentAlignment</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HorizontalAlignment.Center<span class="token punctuation">"</span></span> <span class="token attr-name">ShowCloseIcon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">CloseIconClicked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(() =&gt; CloseMe(true))<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Ocurri贸 un problema.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudAlert</span><span class="token punctuation">&gt;</span></span></span>
            <span class="token punctuation">}</span></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudPaper</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudItem</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudGrid</span><span class="token punctuation">&gt;</span></span>

<span class="token block"><span class="token keyword">@code</span> <span class="token csharp language-csharp"><span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Parameter</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token class-name">Proyecto</span> proyecto <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Proyecto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Categoria</span> categoria <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Categoria</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">DateTime<span class="token punctuation">?</span></span> fechaInicio <span class="token operator">=</span> DateTime<span class="token punctuation">.</span>Today<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">DateTime<span class="token punctuation">?</span></span> fechaFin <span class="token operator">=</span> DateTime<span class="token punctuation">.</span>Today<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">bool</span></span> showLeaveAlert <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">OnInitializedAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        httpClient<span class="token punctuation">.</span>DefaultRequestHeaders<span class="token punctuation">.</span>Authorization <span class="token operator">=</span>
        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AuthenticationHeaderValue</span><span class="token punctuation">(</span><span class="token string">"Bearer"</span><span class="token punctuation">,</span> <span class="token keyword">await</span> _localStorageService<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetItemAsync</span><span class="token generic class-name"><span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">"token"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name"><span class="token keyword">var</span></span> resp <span class="token operator">=</span> <span class="token keyword">await</span> httpClient<span class="token punctuation">.</span><span class="token function">GetStringAsync</span><span class="token punctuation">(</span><span class="token string">"proyectos/"</span> <span class="token operator">+</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        proyecto <span class="token operator">=</span> JsonSerializer<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Deserialize</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Proyecto<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>resp<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">JsonSerializerOptions</span> <span class="token punctuation">{</span> PropertyNameCaseInsensitive <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        categoria <span class="token operator">=</span> proyecto<span class="token punctuation">.</span>Categoria<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">OnValidSubmit</span><span class="token punctuation">(</span><span class="token class-name">EditContext</span> context<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">await</span> <span class="token function">eliminar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">eliminar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">var</span></span> httpResponse <span class="token operator">=</span> <span class="token keyword">await</span> httpClient<span class="token punctuation">.</span><span class="token function">DeleteAsync</span><span class="token punctuation">(</span><span class="token string">"proyectos/"</span> <span class="token operator">+</span> proyecto<span class="token punctuation">.</span>Id<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>httpResponse<span class="token punctuation">.</span>StatusCode <span class="token operator">==</span> System<span class="token punctuation">.</span>Net<span class="token punctuation">.</span>HttpStatusCode<span class="token punctuation">.</span>OK<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            showLeaveAlert <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{</span>
            navigationManager<span class="token punctuation">.</span><span class="token function">NavigateTo</span><span class="token punctuation">(</span><span class="token string">"proyecto/index"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">CloseMe</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">bool</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        showLeaveAlert <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></code></pre>
<p>Con esto finalizamos la codificaci贸n de todas las p谩ginas correspondientes a las acciones de mantenimiento de Proyectos, antes de probar su funcionamiento debemos actualizar el men煤 de navegaci贸n incorporando la entrada que nos lleve a la p谩gina principal de proyectos.</p>
<pre><code class="fenced-code-block language-cshtml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudNavMenu</span> <span class="token attr-name">Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mud-width-full<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudNavLink</span> <span class="token attr-name">Href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span> <span class="token attr-name">Icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@Icons.Material.Outlined.Home<span class="token punctuation">"</span></span> <span class="token attr-name">IconColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Color.Tertiary<span class="token punctuation">"</span></span> <span class="token attr-name">Size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Size.Large<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        Home
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudNavLink</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudDivider</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudNavLink</span> <span class="token attr-name">Href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/categoria/index<span class="token punctuation">"</span></span> <span class="token attr-name">Icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@Icons.Material.Outlined.Checklist<span class="token punctuation">"</span></span> <span class="token attr-name">IconColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Color.Tertiary<span class="token punctuation">"</span></span> <span class="token attr-name">Size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Size.Large<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        Categor铆as
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudNavLink</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MudNavLink</span> <span class="token attr-name">Href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/proyecto/index<span class="token punctuation">"</span></span> <span class="token attr-name">Icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@Icons.Material.Outlined.Assignment<span class="token punctuation">"</span></span> <span class="token attr-name">IconColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Color.Tertiary<span class="token punctuation">"</span></span> <span class="token attr-name">Size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Size.Large<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        Proyectos
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudNavLink</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MudNavMenu</span><span class="token punctuation">&gt;</span></span></code></pre>
<h2 class="atx" id="prueba-del-proceso-para-mantenimiento-de-proyectos">Prueba del proceso para mantenimiento de Proyectos</h2>
<p>Revisar que la API Rest est茅 funcionando en la PC, luego ejecutar el proyecto del Frontend, validar el inicio de sesi贸n y luego en la p谩gina principal acceder mediante el men煤 Proyectos al mantenimiento a probar.</p>
<p><img alt="" src="images/2024-09-20-14-15-37-image.png"></p>
<p>Vemos que al acceder se muestra la lista de los proyectos registrados, ahora vamos a probar la funci贸n para crear un proyecto nuevo, damos clic en el bot贸n circular con el 铆cono '+', cuando cargue el formulario llenar con datos de prueba</p>
<p><img alt="" src="images/2024-09-20-14-17-53-image.png"></p>
<p>Verificar que luego de dar clic en el bot贸n Guardar, en la p谩gina principal se cargue el registro reci茅n creado.</p>
<p><img alt="" src="images/2024-09-20-14-19-05-image.png"></p>
<p>Vemos que la funci贸n de creaci贸n funciona correctamente, ahora vamos a probar la funci贸n de Modificar, en el registro reci茅n creado damos clic en el bot贸n Modificar</p>
<p><img alt="" src="images/2024-09-20-14-20-18-image.png"></p>
<p>Realizar alg煤n cambio en los datos y dar clic en el bot贸n Guardar cambios, verificar que al regresar a la lista el registro haya sido actualizado.</p>
<p><img alt="" src="images/2024-09-20-14-21-46-image.png"></p>
<p>Vemos que esta funci贸n tambi茅n est谩 trabajando de forma correcta, ahora vamos a probar la funci贸n de ver Detalle, para ello damos clic en el bot贸n Detalle del registro reci茅n actualizado.</p>
<p><img alt="" src="images/2024-09-20-14-23-03-image.png"></p>
<p>Vemos que tambi茅n se muestran los detalles de manera correcta, regresamos a la lista y vamos a verificar que la funci贸n de eliminar tambi茅n trabaja correctamente.</p>
<p><img alt="" src="images/2024-09-20-14-24-20-image.png"></p>
<p>Confirmar la eliminaci贸n del registro dando clic en el bot贸n Eliminar, comprobar que al regresar a la lista el registro ya no aparezca.</p>
<p><img alt="" src="images/2024-09-20-14-25-30-image.png"></p>
<p>Con esto finalizamos el desarrollo de esta pr谩ctica, buena suerte en su desarrollo.</p>
</article>
</body>
</html>